<?xml version="1.0" encoding="UTF-8"?>
<!-- edited with XML Spy v4.0 U (http://www.xmlspy.com) by Frank Verbeke (Post Factum bvba) -->
<!DOCTYPE model SYSTEM "openwork.dtd">
<model name="OpenWork" date="28/12/2004" version="2.0.3">
	<!-- ###################################### ADMIN TABLES ###################################### -->
	<table name="AccessCodes" db="admin" sync="NONE">
		<columns>
			<column name="documentid" dbtype="int" javatype="integer" primary="1"/>
			<column name="accesscode" dbtype="varchar" javatype="string" size="255" primary="1"/>
		</columns>
	</table>
	<table name="AccessLogs" db="admin" sync="NONE">
		<columns>
			<column name="userid" dbtype="int" javatype="integer" primary="1"/>
			<column name="accesstime" dbtype="datetime" javatype="date" primary="1"/>
		</columns>
	</table>
	<table name="AccessRights" db="admin" sync="MASTER">
		<columns>
			<column name="userid" dbtype="int" javatype="integer" primary="1"/>
			<column name="accessright" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="active" dbtype="int" javatype="integer"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
		</columns>
		<indexes>
			<index name="accessrights_updatetime">
				<indexcolumn name="updatetime" order="ASC"/>
			</index>
		</indexes>
	</table>
	<table name="Admin" db="admin" sync="MASTER">
		<columns>
			<column name="personid" dbtype="int" javatype="integer" primary="1" nulls="0"/>
			<column name="natreg" dbtype="varchar" javatype="string" size="11"/>
			<column name="immatold" dbtype="varchar" javatype="string" size="25"/>
			<column name="immatnew" dbtype="varchar" javatype="string" size="25"/>
			<column name="candidate" dbtype="varchar" javatype="string" size="25"/>
			<column name="lastname" dbtype="varchar" javatype="string" size="100" nulls="0"/>
			<column name="firstname" dbtype="varchar" javatype="string" size="100"/>
			<column name="gender" dbtype="char" javatype="string" size="1"/>
			<column name="dateofbirth" dbtype="smalldatetime" javatype="date"/>
			<column name="comment" dbtype="varchar" javatype="string" size="255"/>
			<column name="sourceid" dbtype="char" javatype="string" size="1"/>
			<column name="language" dbtype="char" javatype="string" size="1"/>
			<column name="engagement" dbtype="datetime" javatype="date"/>
			<column name="pension" dbtype="datetime" javatype="date"/>
			<column name="statute" dbtype="char" javatype="string" size="1"/>
			<column name="claimant" dbtype="char" javatype="string" size="1"/>
			<column name="searchname" dbtype="varchar" javatype="string" size="100"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
			<column name="claimant_expiration" dbtype="datetime" javatype="date"/>
			<column name="native_town" dbtype="varchar" javatype="string" size="100"/>
			<column name="motive_end_of_service" dbtype="char" javatype="string" size="3"/>
			<column name="startdate_inactivity" dbtype="datetime" javatype="date"/>
			<column name="enddate_inactivity" dbtype="datetime" javatype="date"/>
			<column name="code_inactivity" dbtype="char" javatype="string" size="3"/>
			<column name="update_status" dbtype="char" javatype="string" size="1"/>
			<column name="person_type" dbtype="char" javatype="string" size="1"/>
			<column name="situation_end_of_service" dbtype="char" javatype="string" size="1"/>
			<column name="updateuserid" dbtype="int" javatype="integer"/>
			<column name="comment1" dbtype="varchar" javatype="string" size="100"/>
			<column name="comment2" dbtype="varchar" javatype="string" size="100"/>
			<column name="comment3" dbtype="varchar" javatype="string" size="100"/>
			<column name="comment4" dbtype="varchar" javatype="string" size="100"/>
			<column name="comment5" dbtype="varchar" javatype="string" size="100"/>
			<column name="native_country" dbtype="varchar" javatype="string" size="100"/>
            <column name="middlename" dbtype="varchar" javatype="string" size="255"/>
            <column name="begindate" dbtype="datetime" javatype="date"/>
            <column name="enddate" dbtype="datetime" javatype="date"/>
            <column name="updateserverid" dbtype="int" javatype="integer"/>
		</columns>
		<indexes>
			<index name="admin_personid">
				<indexcolumn name="personid" order="ASC"/>
			</index>
			<index name="admin_natreg">
				<indexcolumn name="natreg" order="ASC"/>
			</index>
			<index name="admin_immatold">
				<indexcolumn name="immatold" order="ASC"/>
			</index>
			<index name="admin_immatnew">
				<indexcolumn name="immatnew" order="ASC"/>
			</index>
            <index name="admin_searchname">
                <indexcolumn name="searchname" order="ASC"/>
            </index>
            <index name="admin_updatetime">
                <indexcolumn name="updatetime" order="ASC"/>
            </index>
		</indexes>
	</table>
    <table name="AdminHistory" db="admin" sync="MASTER">
		<columns>
			<column name="personid" dbtype="int" javatype="integer" primary="1" nulls="0"/>
			<column name="natreg" dbtype="varchar" javatype="string" size="11"/>
			<column name="immatold" dbtype="varchar" javatype="string" size="25"/>
			<column name="immatnew" dbtype="varchar" javatype="string" size="25"/>
			<column name="candidate" dbtype="varchar" javatype="string" size="25"/>
			<column name="lastname" dbtype="varchar" javatype="string" size="100" nulls="0"/>
			<column name="firstname" dbtype="varchar" javatype="string" size="100"/>
			<column name="gender" dbtype="char" javatype="string" size="1"/>
			<column name="dateofbirth" dbtype="datetime" javatype="date"/>
			<column name="comment" dbtype="varchar" javatype="string" size="255"/>
			<column name="sourceid" dbtype="char" javatype="string" size="1"/>
			<column name="language" dbtype="char" javatype="string" size="1"/>
			<column name="engagement" dbtype="datetime" javatype="date"/>
			<column name="pension" dbtype="datetime" javatype="date"/>
			<column name="statute" dbtype="char" javatype="string" size="1"/>
			<column name="claimant" dbtype="char" javatype="string" size="1"/>
			<column name="searchname" dbtype="varchar" javatype="string" size="100"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
			<column name="claimant_expiration" dbtype="datetime" javatype="date"/>
			<column name="native_town" dbtype="varchar" javatype="string" size="100"/>
			<column name="motive_end_of_service" dbtype="char" javatype="string" size="3"/>
			<column name="startdate_inactivity" dbtype="datetime" javatype="date"/>
			<column name="enddate_inactivity" dbtype="datetime" javatype="date"/>
			<column name="code_inactivity" dbtype="char" javatype="string" size="3"/>
			<column name="update_status" dbtype="char" javatype="string" size="1"/>
			<column name="person_type" dbtype="char" javatype="string" size="1"/>
			<column name="situation_end_of_service" dbtype="char" javatype="string" size="1"/>
			<column name="updateuserid" dbtype="int" javatype="integer"/>
			<column name="comment1" dbtype="varchar" javatype="string" size="100"/>
			<column name="comment2" dbtype="varchar" javatype="string" size="100"/>
			<column name="comment3" dbtype="varchar" javatype="string" size="100"/>
			<column name="comment4" dbtype="varchar" javatype="string" size="100"/>
			<column name="comment5" dbtype="varchar" javatype="string" size="100"/>
			<column name="native_country" dbtype="varchar" javatype="string" size="100"/>
            <column name="middlename" dbtype="varchar" javatype="string" size="255"/>
            <column name="begindate" dbtype="datetime" javatype="date"/>
            <column name="enddate" dbtype="datetime" javatype="date"/>
            <column name="updateserverid" dbtype="int" javatype="integer"/>
		</columns>
		<indexes>
			<index name="adminhistory_personid">
				<indexcolumn name="personid" order="ASC"/>
			</index>
			<index name="adminhistory_natreg">
				<indexcolumn name="natreg" order="ASC"/>
			</index>
			<index name="adminhistory_immatold">
				<indexcolumn name="immatold" order="ASC"/>
			</index>
			<index name="adminhistory_immatnew">
				<indexcolumn name="immatnew" order="ASC"/>
			</index>
            <index name="adminhistory_searchname">
                <indexcolumn name="searchname" order="ASC"/>
            </index>
            <index name="adminhistory_updatetime">
                <indexcolumn name="updatetime" order="ASC"/>
            </index>
		</indexes>
	</table>
	<table name="AdminFunctions" db="admin" sync="MASTER">
		<columns>
			<column name="workid" dbtype="int" javatype="integer" primary="1"/>
			<column name="functionid" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="functiontype" dbtype="char" javatype="string" size="1"/>
            <column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
            <column name="deletetime" dbtype="datetime" javatype="date"/>
            <column name="functioncategory" dbtype="varchar" javatype="string" size="255"/>
            <column name="updateserverid" dbtype="int" javatype="integer"/>
		</columns>
		<indexes>
			<index name="adminfunctions_workid">
				<indexcolumn name="workid" order="ASC"/>
			</index>
			<index name="adminfunctions_updatetime">
				<indexcolumn name="updatetime" order="ASC"/>
			</index>
		</indexes>
	</table>
    <table name="AdminExtends" db="admin" sync="MASTER">
		<columns>
			<column name="personid" dbtype="int" javatype="integer"/>
			<column name="extendid" dbtype="int" javatype="integer"/>
			<column name="extendtype" dbtype="varchar" javatype="string" size="255"/>
			<column name="labelid" dbtype="varchar" javatype="string" size="255"/>
			<column name="extendvalue" dbtype="varchar" javatype="string" size="255"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
            <column name="updateuserid" dbtype="int" javatype="integer"/>
            <column name="updateserverid" dbtype="int" javatype="integer"/>
		</columns>
		<indexes>
            <index name="adminextends_personid">
                <indexcolumn name="personid" order="ASC"/>
            </index>
			<index name="adminextends_updatetime">
				<indexcolumn name="updatetime" order="ASC"/>
			</index>
		</indexes>
	</table>
    <table name="AdminSocSec" db="admin" sync="MASTER">
		<columns>
			<column name="socsecid" dbtype="int" javatype="integer"/>
			<column name="personid" dbtype="int" javatype="integer"/>
			<column name="covered" dbtype="varchar" javatype="string" size="255"/>
			<column name="enterprise" dbtype="varchar" javatype="string" size="255"/>
			<column name="assurancenumber" dbtype="varchar" javatype="string" size="255"/>
            <column name="assurancetype" dbtype="varchar" javatype="string" size="255"/>
            <column name="start" dbtype="datetime" javatype="date" version="1"/>
            <column name="stop" dbtype="datetime" javatype="date" version="1"/>
            <column name="comment" dbtype="varchar" javatype="string" size="255"/>
            <column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
            <column name="updateserverid" dbtype="int" javatype="integer"/>
		</columns>
		<indexes>
            <index name="personid">
                <indexcolumn name="personid" order="ASC"/>
            </index>
			<index name="updatetime">
				<indexcolumn name="updatetime" order="ASC"/>
			</index>
		</indexes>
	</table>
    <table name="AdminPrivate" db="admin" sync="MASTER">
		<columns>
			<column name="privateid" dbtype="int" javatype="integer" primary="1"/>
			<column name="personid" dbtype="int" javatype="integer"/>
			<column name="start" dbtype="datetime" javatype="date"/>
			<column name="stop" dbtype="datetime" javatype="date"/>
			<column name="address" dbtype="varchar" javatype="string" size="255"/>
			<column name="city" dbtype="varchar" javatype="string" size="100"/>
			<column name="zipcode" dbtype="varchar" javatype="string" size="10"/>
			<column name="country" dbtype="char" javatype="string" size="2"/>
			<column name="telephone" dbtype="varchar" javatype="string" size="100"/>
			<column name="fax" dbtype="varchar" javatype="string" size="100"/>
			<column name="mobile" dbtype="varchar" javatype="string" size="100"/>
			<column name="email" dbtype="varchar" javatype="string" size="100"/>
			<column name="comment" dbtype="varchar" javatype="string" size="255"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
            <column name="type" dbtype="varchar" javatype="string" size="255"/>
            <column name="updateserverid" dbtype="int" javatype="integer"/>
		</columns>
		<indexes>
            <index name="adminprivate_privateid">
                <indexcolumn name="privateid" order="ASC"/>
            </index>
            <index name="adminprivate_personid">
                <indexcolumn name="personid" order="ASC"/>
            </index>
			<index name="adminprivate_updatetime">
				<indexcolumn name="updatetime" order="ASC"/>
			</index>
		</indexes>
	</table>
	<table name="AdminServices" db="admin" sync="MASTER">
		<columns>
			<column name="workid" dbtype="int" javatype="integer" primary="1"/>
			<column name="serviceid" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="servicetype" dbtype="char" javatype="string" size="1"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
            <column name="updateserverid" dbtype="int" javatype="integer"/>
		</columns>
		<indexes>
			<index name="adminservices_workid">
				<indexcolumn name="workid" order="ASC"/>
			</index>
			<index name="adminservices_updatetime">
				<indexcolumn name="updatetime" order="ASC"/>
			</index>
		</indexes>
	</table>

	<table name="AlternateID" db="admin" sync="MASTEREXIST">
		<columns>
			<column name="personid" dbtype="int" javatype="integer" primary="1"/>
			<column name="alternateid" dbtype="varchar" javatype="string" size="100" primary="1"/>
		</columns>
		<indexes>
			<index name="alternateid_personid">
				<indexcolumn name="personid" order="ASC"/>
			</index>
		</indexes>
	</table>
	<table name="Counters" db="admin" sync="NONE">
		<columns>
			<column name="name" dbtype="varchar" javatype="string" size="255"/>
			<column name="counter" dbtype="int" javatype="integer"/>
		</columns>
		<indexes>
			<index name="counters_name">
				<indexcolumn name="name" order="ASC"/>
			</index>
		</indexes>
	</table>	
    <table name="Groups" db="admin" sync="MASTER">
        <columns>
            <column name="id" dbtype="int" javatype="integer" primary="1"/>
            <column name="groupType" dbtype="varchar" javatype="string" size="255" primary="1"/>
            <column name="groupName" dbtype="varchar" javatype="string" size="255" primary="1"/>
            <column name="linkId" dbtype="varchar" javatype="string" size="50" primary="1"/>
            <column name="active" dbtype="int" javatype="integer"/>
            <column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
        </columns>
        <indexes>
            <index name="groups_linkid">
                <indexcolumn name="linkId" order="ASC"/>
            </index>
            <index name="groups_updatetime">
                <indexcolumn name="updatetime" order="ASC"/>
            </index>
        </indexes>
    </table>
    <table name="HRMItems" db="admin" sync="NONE">
        <columns>
            <column name="itemId" dbtype="int" javatype="integer" primary="1"/>
            <column name="transactionId" dbtype="int" javatype="integer" primary="1"/>
            <column name="itemType" dbtype="varchar" javatype="string" size="255"/>
            <column name="itemValue" dbtype="varchar" javatype="string" size="255"/>
        </columns>
    </table>
    <table name="HRMTransactions" db="admin" sync="NONE">
        <columns>
            <column name="transactionId" dbtype="int" javatype="integer" primary="1"/>
            <column name="personId" dbtype="int" javatype="integer" primary="1"/>
            <column name="transactionType" dbtype="varchar" javatype="string" size="255"/>
            <column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
            <column name="updateuserid" dbtype="int" javatype="integer"/>
            <column name="deletetime" dbtype="datetime" javatype="date" version="1"/>
            <column name="creationtime" dbtype="datetime" javatype="date" version="1"/>
        </columns>
    </table>
    <table name="LabAnalysis" db="occup" sync="MASTER">
		<columns>
			<column name="labID"          dbtype="int"      javatype="integer" primary="1"/>
			<column name="labcode"        dbtype="varchar"  javatype="string"  size="255"/>
			<column name="labtype"        dbtype="varchar"  javatype="string"  size="255"/>
			<column name="monster"        dbtype="varchar"  javatype="string"  size="255"/>
            <column name="biomonitoring"  dbtype="varchar"  javatype="string"  size="255"/>
            <column name="medidoccode"    dbtype="varchar"  javatype="string"  size="255"/>
            <column name="comment"        dbtype="varchar"  javatype="string"  size="255"/>
            <column name="updateuserid"   dbtype="int"      javatype="integer"/>
            <column name="updatetime"     dbtype="datetime" javatype="date"    version="1"/>
            <column name="deletetime"     dbtype="datetime" javatype="date"    version="1"/>
            <column name="labcodeother"   dbtype="varchar"  javatype="string"  size="1"/>
            <column name="limitvalue"     dbtype="varchar"  javatype="string"  size="255"/>
            <column name="shorttimevalue" dbtype="varchar"  javatype="string"  size="255"/>
		</columns>
		<indexes>
			<index name="labanalysis_labID">
				<indexcolumn name="labID"   order="ASC"/>
			</index>
			<index name="labanalysis_labcode">
				<indexcolumn name="labcode" order="ASC"/>
			</index>
		</indexes>
	</table>
    <table name="LabProfiles" db="occup" sync="MASTER">
		<columns>
			<column name="profileID"    dbtype="int"      javatype="integer" primary="1"/>
            <column name="profilecode"  dbtype="varchar"  javatype="string"  size="255"/>
            <column name="comment"      dbtype="varchar"  javatype="string"  size="255"/>
            <column name="updateuserid" dbtype="int"      javatype="integer"/>
            <column name="updatetime"   dbtype="datetime" javatype="date"    version="1"/>
            <column name="deletetime"   dbtype="datetime" javatype="date"/>
		</columns>
		<indexes>
			<index name="labprofiles_profileID">
				<indexcolumn name="profileID"   order="ASC"/>
			</index>
			<index name="labanalaysis_profilecode">
				<indexcolumn name="profilecode" order="ASC"/>
			</index>
		</indexes>
	</table>
    <table name="LabProfilesAnalysis" db="occup" sync="MASTER">
		<columns>
			<column name="profileID"    dbtype="int"      javatype="integer" primary="1"/>
            <column name="labID"        dbtype="int"      javatype="integer" primary="1"/>
            <column name="updateuserid" dbtype="int"      javatype="integer"/>
            <column name="updatetime"   dbtype="datetime" javatype="date"    version="1"/>
            <column name="comment"      dbtype="varchar"  javatype="string"  size="255"/>
		</columns>
		<indexes>
			<index name="labprofilesanalysis_profileID">
				<indexcolumn name="profileID" order="ASC"/>
			</index>
		</indexes>
	</table>
	<table name="Labels" db="admin" sync="MASTER">
		<columns>
			<column name="labeltype" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="labelid" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="labelnl" dbtype="varchar" javatype="string" size="255"/>
			<column name="labelfr" dbtype="varchar" javatype="string" size="255"/>
			<column name="labelen" dbtype="varchar" javatype="string" size="255"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
			<column name="doNotShowLink" dbtype="bit" javatype="boolean" nulls="0"/>
			<column name="updateuserid" dbtype="int" javatype="integer"/>
		</columns>
		<indexes>
			<index name="labels_labeltype_id">
				<indexcolumn name="labeltype" order="ASC"/>
				<indexcolumn name="labelid" order="ASC"/>
			</index>
			<index name="labels_updatetime">
				<indexcolumn name="updatetime" order="ASC"/>
			</index>
		</indexes>
	</table>	
	<table name="Services" db="admin" sync="MASTER">
		<columns>
			<column name="serviceid" dbtype="varchar" javatype="string" size="100" primary="1"/>
			<column name="address" dbtype="varchar" javatype="string" size="100"/>
			<column name="city" dbtype="varchar" javatype="string" size="100"/>
			<column name="zipcode" dbtype="varchar" javatype="string" size="10"/>
			<column name="country" dbtype="varchar" javatype="string" size="100"/>
			<column name="telephone" dbtype="varchar" javatype="string" size="100"/>
			<column name="fax" dbtype="varchar" javatype="string" size="100"/>
			<column name="email" dbtype="varchar" javatype="string" size="100"/>
			<column name="comment" dbtype="varchar" javatype="string" size="255"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
			<column name="code1" dbtype="varchar" javatype="string" size="50"/>
			<column name="code2" dbtype="varchar" javatype="string" size="50"/>
			<column name="code3" dbtype="varchar" javatype="string" size="50"/>
			<column name="code4" dbtype="varchar" javatype="string" size="50"/>
			<column name="code5" dbtype="varchar" javatype="string" size="50"/>
			<column name="serviceparentid" dbtype="varchar" javatype="string" size="255"/>
			<column name="servicelanguage" dbtype="char" javatype="string" size="2"/>
			<column name="serviceorder" dbtype="char" javatype="string" size="2"/>
			<column name="inscode" dbtype="char" javatype="string" size="255"/>
			<column name="updateuserid" dbtype="int" javatype="integer"/>
            <column name="contract" dbtype="varchar" javatype="string" size="255"/>
            <column name="contracttype" dbtype="varchar" javatype="string" size="255"/>
            <column name="contactperson" dbtype="varchar" javatype="string" size="255"/>
            <column name="contractdate" dbtype="datetime" javatype="date"/>
            <column name="portal_email" dbtype="varchar" javatype="string" size="255"/>
            <column name="contactaddress" dbtype="varchar" javatype="string" size="255"/>
            <column name="contactzipcode" dbtype="varchar" javatype="string" size="255"/>
            <column name="contactcity" dbtype="varchar" javatype="string" size="255"/>
            <column name="contactcountry" dbtype="varchar" javatype="string" size="255"/>
            <column name="contacttelephone" dbtype="varchar" javatype="string" size="255"/>
            <column name="contactfax" dbtype="varchar" javatype="string" size="255"/>
            <column name="contactemail" dbtype="varchar" javatype="string" size="255"/>
        </columns>
		<indexes>
			<index name="services_serviceid">
				<indexcolumn name="serviceid" order="ASC"/>
			</index>
			<index name="services_zipcode">
				<indexcolumn name="zipcode" order="ASC"/>
			</index>
			<index name="services_updatetime">
				<indexcolumn name="updatetime" order="ASC"/>
			</index>
		</indexes>
	</table>
	<table name="Support" db="admin" sync="NONE">
		<columns>
			<column name="supportID" dbtype="int" javatype="integer" primary="1"/>
			<column name="supportName" dbtype="varchar" javatype="string" size="255"/>
			<column name="supportDate" dbtype="datetime" javatype="date"/>
			<column name="supportFrom" dbtype="datetime" javatype="date"/>
			<column name="supportUntil" dbtype="datetime" javatype="date"/>
			<column name="supportLocationID" dbtype="varchar" javatype="string" size="255"/>
			<column name="supportTask" dbtype="text" javatype="string"/>
			<column name="supportDuration" dbtype="datetime" javatype="date"/>
		</columns>
	</table>
	<table name="UnknownLabels" db="admin" sync="NONE">
		<columns>
			<column name="labeltype" dbtype="varchar" javatype="string" size="255"/>
			<column name="labelid" dbtype="varchar" javatype="string" size="255"/>
			<column name="unknowndatetime" dbtype="datetime" javatype="date"/>
			<column name="updatetime" dbtype="datetime" javatype="date"/>
			<column name="updateuserid" dbtype="int" javatype="integer"/>
		</columns>
	</table>
	<table name="UpdateErrors" db="admin" sync="NONE">
		<columns>
			<column name="updatetime" dbtype="datetime" javatype="date"/>
			<column name="comment" dbtype="varchar" javatype="string" size="255"/>
			<column name="xml" dbtype="text" javatype="string"/>
		</columns>
	</table>
	<table name="UserParameters" db="admin" sync="MASTER">
		<columns>
			<column name="userid" dbtype="int" javatype="integer" primary="1"/>
			<column name="parameter" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="value" dbtype="varchar" javatype="string" size="255"/>
			<column name="active" dbtype="int" javatype="integer"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
		</columns>
		<indexes>
			<index name="userpars_userid_parameter">
				<indexcolumn name="userid" order="ASC"/>
				<indexcolumn name="parameter" order="ASC"/>
			</index>
			<index name="userpars_updatetime">
				<indexcolumn name="updatetime" order="ASC"/>
			</index>
		</indexes>
	</table>
	<table name="UserProfileMotivations" db="admin" sync="MERGE">
		<columns>
			<column name="userid" dbtype="int" javatype="integer" primary="1"/>
			<column name="patientid" dbtype="int" javatype="integer" primary="1"/>
			<column name="updatetime" dbtype="datetime" javatype="date" primary="1" version="1"/>
			<column name="motivation" dbtype="varchar" javatype="string" size="255"/>
			<column name="screenid" dbtype="varchar" javatype="string" size="255"/>
		</columns>
		<indexes>
			<index name="userproms_userid_parameter">
				<indexcolumn name="userid" order="ASC"/>
			</index>
			<index name="userproms_updatetime">
				<indexcolumn name="updatetime" order="ASC"/>
			</index>
		</indexes>
	</table>
	<table name="UserProfilePermissions" db="admin" sync="MASTER">
		<columns>
			<column name="userprofileid" dbtype="int" javatype="integer" primary="1"/>
			<column name="screenid" dbtype="varchar" javatype="string" size="255"/>
			<column name="permission" dbtype="varchar" javatype="string" size="255"/>
			<column name="active" dbtype="int" javatype="integer"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
		</columns>
	</table>
	<table name="UserProfiles" db="admin" sync="MASTER">
		<columns>
			<column name="userprofileid" dbtype="int" javatype="integer" primary="1"/>
			<column name="userprofilename" dbtype="varchar" javatype="string" size="255"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
		</columns>
	</table>
	<table name="Users" db="admin" sync="MASTER">
		<columns>
			<column name="userid" dbtype="int" javatype="integer" primary="1"/>
			<column name="personid" dbtype="int" javatype="integer"/>
			<column name="start" dbtype="datetime" javatype="date"/>
			<column name="stop" dbtype="datetime" javatype="date"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
			<column name="project" dbtype="varchar" javatype="string" size="255"/>
			<column name="encryptedpassword" dbtype="image" javatype="bytes"/>
		</columns>
		<indexes>
			<index name="users_userid">
				<indexcolumn name="userid" order="ASC"/>
			</index>
			<index name="users_personid">
				<indexcolumn name="personid" order="ASC"/>
			</index>
		</indexes>
	</table>
    <table name="UserServices" db="admin" sync="MASTER">
        <columns>
            <column name="userid" dbtype="int" javatype="integer" primary="1"/>
            <column name="serviceid" dbtype="varchar" size="255" javatype="string" primary="1"/>
            <column name="updatetime" dbtype="datetime" javatype="date"/>
            <column name="activeservice" dbtype="int" javatype="integer"/>
        </columns>
    </table>
    <table name="AdminPhysicians" db="admin" sync="MASTER">
		<columns>
			<column name="personid" dbtype="int" javatype="integer" primary="1" nulls="0"/>
			<column name="PhysicianLastname" dbtype="varchar" javatype="string" size="255"/>
			<column name="PhysicianFirstname" dbtype="varchar" javatype="string" size="255"/>
			<column name="PhysicianAddress" dbtype="varchar" javatype="string" size="255"/>
			<column name="PhysicianZipcode" dbtype="varchar" javatype="string" size="255"/>
			<column name="PhysicianCity" dbtype="varchar" javatype="string" size="255"/>
			<column name="PhysicianPhone" dbtype="varchar" javatype="string" size="255"/>
			<column name="PhysicianSendReport" dbtype="int" javatype="integer"/>
			<column name="updatetime" dbtype="smalldatetime" javatype="date"/>
			<column name="updateuserid" dbtype="int" javatype="integer"/>
		</columns>
		<indexes>
			<index name="admin_personid">
				<indexcolumn name="personid" order="ASC"/>
			</index>
		</indexes>
	</table>
    <table name="ExternalPreventionServices" db="admin" sync="MASTER">
		<columns>
			<column name="EPSID" dbtype="int" javatype="integer" primary="1" nulls="0"/>
			<column name="EPSName" dbtype="varchar" javatype="string" size="255"/>
			<column name="EPSAddress" dbtype="varchar" javatype="string" size="255"/>
			<column name="EPSZipcode" dbtype="varchar" javatype="string" size="255"/>
			<column name="EPSCity" dbtype="varchar" javatype="string" size="255"/>
			<column name="EPSPhone" dbtype="varchar" javatype="string" size="255"/>
			<column name="EPSFax" dbtype="varchar" javatype="string" size="255"/>
            <column name="EPSPhysicianLastname" dbtype="varchar" javatype="string" size="255"/>
            <column name="EPSPhysicianFirstname" dbtype="varchar" javatype="string" size="255"/>
			<column name="updatetime" dbtype="datetime" javatype="date"/>
			<column name="updateuserid" dbtype="int" javatype="integer"/>
            <column name="deletedate" dbtype="datetime" javatype="date"/>
		</columns>
		<indexes>
			<index name="epsid">
				<indexcolumn name="epsid" order="ASC"/>
			</index>
		</indexes>
	</table>
    <table name="EPSServices" db="admin" sync="MASTER">
		<columns>
			<column name="EPSID" dbtype="int" javatype="integer" primary="1" nulls="0"/>
			<column name="serviceid" dbtype="varchar" javatype="string" size="255"/>
			<column name="updatetime" dbtype="datetime" javatype="date"/>
			<column name="updateuserid" dbtype="int" javatype="integer"/>
            <column name="deletedate" dbtype="datetime" javatype="date"/>
		</columns>
		<indexes>
			<index name="serviceid">
				<indexcolumn name="serviceid" order="ASC"/>
			</index>
		</indexes>
	</table>
    <table name="Personnel" db="admin" sync="NONE">
		<columns>
			<column name="code" dbtype="varchar" javatype="string" size="255"/>
            <column name="name" dbtype="varchar" javatype="string" size="255"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
		</columns>
	</table>
    <table name="Providers" db="admin" sync="NONE">
		<columns>
			<column name="code" dbtype="varchar" javatype="string" size="255"/>
            <column name="name" dbtype="varchar" javatype="string" size="255"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
		</columns>
	</table>
    <table name="MedicalCenters" db="admin" sync="NONE">
		<columns>
			<column name="code" dbtype="varchar" javatype="string" size="255"/>
            <column name="name" dbtype="varchar" javatype="string" size="255"/>
            <column name="address" dbtype="varchar" javatype="string" size="255"/>
            <column name="zipcode" dbtype="varchar" javatype="string" size="255"/>
            <column name="city" dbtype="varchar" javatype="string" size="255"/>
            <column name="country" dbtype="varchar" javatype="string" size="255"/>
            <column name="telephone" dbtype="varchar" javatype="string" size="255"/>
            <column name="email" dbtype="varchar" javatype="string" size="255"/>
            <column name="fax" dbtype="varchar" javatype="string" size="255"/>
            <column name="comment" dbtype="varchar" javatype="string" size="255"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
		</columns>
	</table>
    <table name="Deleted" db="admin" sync="NONE">
		<columns>
			<column name="ow_tablename" dbtype="varchar" javatype="string" size="255"/>
            <column name="ow_primarykey" dbtype="varchar" javatype="string" size="255"/>
            <column name="ow_primarykey_value" dbtype="varchar" javatype="string" size="255"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
		</columns>
        <indexes>
            <index name="deleted_updatetime">
                <indexcolumn name="updatetime" order="ASC"/>
            </index>
        </indexes>
	</table>
    <table name="intrusionAttempts" db="admin" sync="NONE">
		<columns>
			<column name="intruderID" dbtype="varchar" javatype="string" size="255"/>
            <column name="intrusionCount" dbtype="int" javatype="integer"/>
            <column name="blocked" dbtype="char" javatype="string" size="1"/>
			<column name="releaseTime" dbtype="datetime" javatype="date" version="1"/>
		</columns>
	</table>
    <!-- ###################################### ADMIN VIEWS ####################################### -->
	
	<view name="AdminView" db="admin" drop="1">
		<sql>create view AdminView as select * from Admin</sql>
	</view>
	<view name="FunctionsView" db="admin" drop="1">
		<sql>
			create view FunctionsView
			as
			select workid,functionid,functiontype,labeltype,labelid,labelnl,labelfr,labelen from AdminFunctions,Labels
			where
			Labels.labeltype='function' and
			Labels.labelid = AdminFunctions.functionid and
            AdminFunctions.deletetime is null
		</sql>
	</view>
	
	<view name="PrivateView" db="admin" drop="1">
		<sql>
			create view PrivateView as
			select privateid,personid,start,stop,AdminPrivate.comment privatecomment,address,city,zipcode,country,telephone,fax,email,mobile from AdminPrivate
		</sql>
	</view>
	
	<view name="ServicesView" db="admin" drop="1">
		<sql>
			create view ServicesView
			as
			select workid,serviceid,servicetype,labeltype,labelid,labelnl,labelfr,labelen from AdminServices,Labels
			where
			Labels.labeltype='service' and
			Labels.labelid = AdminServices.serviceid
		</sql>
	</view>
	<view name="UnitGroupsView" db="admin" drop="1">
        <sql db="Microsoft SQL Server">
            create view UnitGroupsView as select convert(int,linkId) as intLinkId,* from Groups where active=1
        </sql>
        <sql db="Adaptive Server Enterprise">
            create view UnitGroupsView as select convert(int,linkId) as intLinkId,* from Groups where active=1
        </sql>
        <sql db="Cache">
            create view UnitGroupsView as select cast(linkId as int) as intLinkId,* from Groups where active=1
        </sql>
	</view>
	<view name="UsersView" db="admin" drop="1">
		<sql>
			create view UsersView as
			select * from Users
		</sql>
	</view>

	<!-- ##################################### OCCUP TABLES ####################################### -->
	<table name="AgeGenderControl" db="occup" sync="MASTER">
		<columns>
            <column name="rowid" dbtype="int" javatype="integer" primary="1"/>
            <column name="id" dbtype="int" javatype="integer" primary="1"/>
            <column name="type" dbtype="varchar" javatype="string" size="255"/>
			<column name="minAge" dbtype="int" javatype="integer"/>
			<column name="maxAge" dbtype="int" javatype="integer"/>
			<column name="gender" dbtype="varchar" javatype="string" size="2"/>
			<column name="frequency" dbtype="int" javatype="integer"/>
			<column name="tolerance" dbtype="int" javatype="integer"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
		</columns>
	</table>
	<table name="Appointments" db="occup" sync="NONE">
		<columns>
			<column name="appointmentId" dbtype="int" javatype="integer" primary="1"/>
			<column name="serverId" dbtype="int" javatype="integer" primary="1"/>
			<column name="personId" dbtype="int" javatype="integer"/>
			<column name="appointmentDate" dbtype="datetime" javatype="date"/>
			<column name="visitDate" dbtype="datetime" javatype="date"/>
			<column name="userId" dbtype="int" javatype="integer"/>
			<column name="linkId" dbtype="varchar" javatype="string" size="50"/>
			<column name="ow_comment" dbtype="varchar" javatype="string" size="255"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
		</columns>
		<indexes>
			<index name="appointments_userid">
				<indexcolumn name="userId" order="ASC"/>
			</index>
			<index name="appointments_personid">
				<indexcolumn name="personId" order="ASC"/>
			</index>
			<index name="appointments_updatetime">
				<indexcolumn name="updatetime" order="ASC"/>
			</index>
		</indexes>
	</table>
    <table name="Badges" db="occup" sync="MERGE">
        <columns>
            <column name="BadgeCentre" dbtype="int" javatype="integer" primary="1"/>
            <column name="BadgeId" dbtype="varchar" javatype="string" size="255" primary="1"/>
            <column name="BadgePersonId" dbtype="int" javatype="integer" primary="1"/>
            <column name="BadgeBegin" dbtype="datetime" javatype="date" primary="1"/>
            <column name="BadgeEnd" dbtype="datetime" javatype="date"/>
            <column name="updateTime" dbtype="datetime" javatype="date" versioncompare="1"/>
        </columns>
        <indexes>
            <index name="badges_badgeid">
                <indexcolumn name="BadgeId" order="ASC"/>
            </index>
            <index name="badges_badgepersonid">
                <indexcolumn name="BadgePersonId" order="ASC"/>
            </index>
        </indexes>
    </table>
    <table name="cardiorisk" db="occup" sync="NONE">
        <columns>
            <column name="code" dbtype="varchar" javatype="string" size="255"/>
        </columns>
    </table>
	<table name="carSchedule" db="occup" sync="NONE">
		<columns>
			<column name="carId" dbtype="varchar" javatype="string" size="100"/>
			<column name="serviceId1" dbtype="varchar" javatype="string" size="100"/>
			<column name="serviceId2" dbtype="varchar" javatype="string" size="100"/>
			<column name="serviceId3" dbtype="varchar" javatype="string" size="100"/>
			<column name="serviceId4" dbtype="varchar" javatype="string" size="100"/>
			<column name="serviceId5" dbtype="varchar" javatype="string" size="100"/>
			<column name="visitDateTime" dbtype="datetime" javatype="date"/>
			<column name="comment1" dbtype="varchar" javatype="string" size="100"/>
			<column name="comment2" dbtype="varchar" javatype="string" size="100"/>
			<column name="comment3" dbtype="varchar" javatype="string" size="100"/>
			<column name="comment4" dbtype="varchar" javatype="string" size="100"/>
			<column name="comment5" dbtype="varchar" javatype="string" size="100"/>
		</columns>
	</table>
    <table name="Concepts" db="occup" sync="NONE">
        <columns>
            <column name="concept" dbtype="char" javatype="string" size="10"/>
            <column name="icd10" dbtype="char" javatype="string" size="6"/>
            <column name="icpc" dbtype="char" javatype="string" size="6"/>
        </columns>
        <indexes>
            <index name="concept">
                <indexcolumn name="concept" order="ASC"/>
            </index>
        </indexes>
    </table>
	<table name="ContactTypes" db="occup" sync="MASTER">
		<columns>
			<column name="id" dbtype="int" javatype="integer" primary="1" version="1"/>
			<column name="messageKey" dbtype="varchar" javatype="string" size="255"/>
			<column name="NL" dbtype="varchar" javatype="string" size="255"/>
			<column name="FR" dbtype="varchar" javatype="string" size="255"/>
			<column name="active" dbtype="int" javatype="integer"/>
			<column name="updateuserid" dbtype="int" javatype="integer"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
		</columns>
	</table>
	<table name="counters" db="occup" sync="MASTEREXIST">
		<columns>
			<column name="name" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="counter" dbtype="int" javatype="integer"/>
		</columns>
	</table>
	<table name="diagnoses" db="occup" sync="MASTEREXIST">
		<columns>
			<column name="itemTypeId" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="criterium" dbtype="varchar" javatype="string" size="50" primary="1"/>
		</columns>
	</table>
    <table name="DiagnosisHistory" db="occup" sync="MERGE">
        <columns>
            <column name="itemId" dbtype="int" javatype="integer" primary="1" />
            <column name="serverid" dbtype="int" javatype="integer" primary="1"/>
            <column name="inactiveDate" dbtype="datetime" javatype="date" version="1"/>
        </columns>
        <indexes>
            <index name="diagnosisHistory_itemId">
                <indexcolumn name="itemId" order="ASC"/>
            </index>
        </indexes>
    </table>
	<table name="Documents" db="occup" sync="NONE">
		<columns>
			<column name="id" dbtype="int" javatype="integer" primary="1"/>
			<column name="type" dbtype="varchar" javatype="string" size="255"/>
			<column name="format" dbtype="varchar" javatype="string" size="255"/>
			<column name="name" dbtype="varchar" javatype="string" size="255"/>
			<column name="filename" dbtype="varchar" javatype="string" size="255"/>
			<column name="userid" dbtype="int" javatype="integer"/>
			<column name="folder" dbtype="varchar" javatype="string" size="255"/>
			<column name="personid" dbtype="int" javatype="integer"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
		</columns>
		<indexes>
			<index name="documents_id">
				<indexcolumn name="id" order="ASC"/>
			</index>
			<index name="documents_updatetime">
				<indexcolumn name="updatetime" order="ASC"/>
			</index>
		</indexes>
	</table>
    <table name="EnterpriseVisitItems" db="occup" sync="MERGE">
        <columns>
            <column name="visitId" dbtype="int" javatype="integer"/>
            <column name="itemId" dbtype="int" javatype="integer" primary="1"/>
            <column name="itemType" dbtype="varchar" size="255" javatype="string"/>
            <column name="itemValue" dbtype="varchar" size="3000" javatype="string"/>
            <column name="serverId" dbtype="int" javatype="integer" primary="1"/>
        </columns>
        <indexes>
            <index name="visitId">
                <indexcolumn name="visitId" order="ASC"/>
            </index>
        </indexes>
    </table>
    <table name="EnterpriseVisits" db="occup" sync="MERGE">
        <columns>
            <column name="visitId" dbtype="int" javatype="integer" primary="1"/>
            <column name="serviceId" dbtype="varchar" javatype="string" size="255"/>
            <column name="userId" dbtype="int" javatype="integer"/>
            <column name="updateTime" dbtype="datetime" javatype="date"/>
            <column name="creationDate" dbtype="datetime" javatype="date"/>
            <column name="ts" dbtype="datetime" javatype="date" version="1"/>
            <column name="serverid" dbtype="int" javatype="integer" primary="1" />
        </columns>
        <indexes>
            <index name="visitId">
                <indexcolumn name="visitId" order="ASC"/>
            </index>
            <index name="serviceId">
                <indexcolumn name="serviceId" order="ASC"/>
            </index>
        </indexes>
    </table>
	<table name="Examinations" db="occup" sync="MASTER">
		<columns>
			<column name="id" dbtype="int" javatype="integer" primary="1"/>
			<column name="transactionType" dbtype="varchar" javatype="string" size="255"/>
			<column name="messageKey" dbtype="varchar" javatype="string" size="255"/>
			<column name="priority" dbtype="int" javatype="integer"/>
			<column name="data" dbtype="image" javatype="bytes"/>
			<column name="deletedate" dbtype="datetime" javatype="date"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
			<column name="updateuserid" dbtype="int" javatype="integer"/>
			<column name="NL" dbtype="varchar" javatype="string" size="255"/>
			<column name="FR" dbtype="varchar" javatype="string" size="255"/>
		</columns>
	</table>
	<table name="exclusionDates" db="occup" sync="NONE">
		<columns>
			<column name="serviceId" dbtype="varchar" javatype="string" size="255"/>
			<column name="dateBegin" dbtype="datetime" javatype="date"/>
			<column name="dateEnd" dbtype="datetime" javatype="date"/>
		</columns>
	</table>
	<table name="exportActivities" db="occup" sync="NONE">
		<columns>
			<column name="personId" dbtype="int" javatype="integer" primary="1"/>
			<column name="userId" dbtype="int" javatype="integer" primary="1"/>
			<column name="activityDateTime" dbtype="datetime" javatype="date" primary="1"/>
            <column name="activityCode" dbtype="varchar" javatype="string" size="255" primary="1"/>
            <column name="activityId" dbtype="varchar" javatype="string" size="255" primary="1"/>
            <column name="medicalCenter" dbtype="varchar" javatype="string" size="255" primary="1"/>
            <column name="MD" dbtype="varchar" javatype="string" size="10"/>
            <column name="para" dbtype="varchar" javatype="string" size="10"/>
            <column name="exportDate" dbtype="datetime" javatype="date"/>
            <column name="ts" dbtype="datetime" javatype="date"/>
            <column name="validated" dbtype="datetime" javatype="date"/>
            <column name="provider" dbtype="varchar" javatype="string" size="50"/>
            <column name="value" dbtype="varchar" javatype="string" size="50"/>
		</columns>
	</table>
    <table name="exportSpecifications" db="occup" sync="NONE">
        <columns>
            <column name="elementType" dbtype="varchar" javatype="string" size="255" primary="1"/>
            <column name="exportCode" dbtype="varchar" javatype="string" size="255" primary="1"/>
            <column name="elementContent" dbtype="varchar" javatype="string" size="255"/>
            <column name="updatetime" dbtype="datetime" javatype="date"/>
        </columns>
    </table>
    <table name="exportPersons" db="occup" sync="NONE">
        <columns>
            <column name="personId" dbtype="int" javatype="integer"/>
            <column name="requestDate" dbtype="datetime" javatype="date"/>
            <column name="exportDate" dbtype="datetime" javatype="date"/>
        </columns>
    </table>
	<table name="FunctionCategories" db="occup" sync="MASTER">
		<columns>
			<column name="id" dbtype="int" javatype="integer" primary="1"/>
			<column name="messageKey" dbtype="varchar" javatype="string" size="255"/>
			<column name="deletedate" dbtype="datetime" javatype="date"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
			<column name="updateuserid" dbtype="int" javatype="integer"/>
			<column name="NL" dbtype="varchar" javatype="string" size="255"/>
			<column name="FR" dbtype="varchar" javatype="string" size="255"/>
			<column name="serviceId" dbtype="varchar" javatype="string" size="255"/>
			<column name="active" dbtype="int" javatype="integer"/>
		</columns>
	</table>
	<table name="FunctionCategoryRisks" db="occup" sync="MASTER">
		<columns>
			<column name="functionCategoryId" dbtype="int" javatype="integer" primary="1"/>
			<column name="riskId" dbtype="int" javatype="integer" primary="1"/>
            <column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
		</columns>
	</table>
	<table name="FunctionGroupExaminations" db="occup" sync="MASTER">
		<columns>
			<column name="functionGroupExaminationId" dbtype="int" javatype="integer" primary="1"/>
			<column name="contactTypeId" dbtype="int" javatype="integer"/>
			<column name="tolerance" dbtype="int" javatype="integer"/>
			<column name="frequency" dbtype="int" javatype="integer"/>
			<column name="functionGroupId" dbtype="int" javatype="integer"/>
			<column name="examinationId" dbtype="int" javatype="integer"/>
			<column name="ageGenderControl" dbtype="char" javatype="string" size="1"/>
			<column name="active" dbtype="int" javatype="integer"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
		</columns>
	</table>
	<table name="FunctionGroups" db="occup" sync="MASTER">
		<columns>
			<column name="id" dbtype="int" javatype="integer" primary="1"/>
			<column name="messageKey" dbtype="varchar" javatype="string" size="255"/>
			<column name="deletedate" dbtype="datetime" javatype="date"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
			<column name="updateuserid" dbtype="int" javatype="integer"/>
			<column name="NL" dbtype="varchar" javatype="string" size="255"/>
			<column name="FR" dbtype="varchar" javatype="string" size="255"/>
			<column name="serviceId" dbtype="varchar" javatype="string" size="255"/>
			<column name="active" dbtype="int" javatype="integer"/>
		</columns>
	</table>
	<table name="RiskGroups" db="occup" sync="MASTER">
		<columns>
			<column name="id" dbtype="int" javatype="integer" primary="1"/>
			<column name="groupType" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="groupName" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="linkId" dbtype="varchar" javatype="string" size="50" primary="1"/>
			<column name="active" dbtype="int" javatype="integer"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
		</columns>
		<indexes>
			<index name="groups_linkid">
				<indexcolumn name="linkId" order="ASC"/>
			</index>
			<index name="groups_updatetime">
				<indexcolumn name="updatetime" order="ASC"/>
			</index>
		</indexes>
	</table>
	<table name="Healthrecord" db="occup" sync="NONE">
		<columns>
			<column name="healthRecordId" dbtype="int" javatype="integer" primary="1"/>
			<column name="dateBegin" dbtype="datetime" javatype="date"/>
			<column name="dateEnd" dbtype="datetime" javatype="date"/>
			<column name="personId" dbtype="int" javatype="integer"/>
			<column name="serverid" dbtype="int" javatype="integer"/>
			<column name="version" dbtype="int" javatype="integer"/>
			<column name="versionserverid" dbtype="int" javatype="integer"/>
		</columns>
		<indexes>
			<index name="healthrecord_healthrecordid">
				<indexcolumn name="healthRecordId" order="ASC"/>
			</index>
			<index name="healthrecord_personid">
				<indexcolumn name="personId" order="ASC"/>
			</index>
		</indexes>
	</table>
    <table name="ICD10" db="occup" sync="NONE">
        <columns>
            <column name="code" dbtype="char" javatype="string" size="6" primary="1"/>
            <column name="labelnl" dbtype="varchar" javatype="string" size="255"/>
            <column name="labelfr" dbtype="varchar" javatype="string" size="255"/>
        </columns>
        <indexes>
            <index name="code">
                <indexcolumn name="code" order="ASC"/>
            </index>
        </indexes>
    </table>
    <table name="ICPC2" db="occup" sync="NONE">
        <columns>
            <column name="code" dbtype="char" javatype="string" size="6" primary="1"/>
            <column name="labelnl" dbtype="varchar" javatype="string" size="255"/>
            <column name="labelfr" dbtype="varchar" javatype="string" size="255"/>
        </columns>
        <indexes>
            <index name="code">
                <indexcolumn name="code" order="ASC"/>
            </index>
        </indexes>
    </table>
	<table name="ItemGroupItems" db="occup" sync="MASTER">
		<columns>
			<column name="groupId" dbtype="int" javatype="integer" primary="1"/>
			<column name="header" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="type" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="itemId" dbtype="int" javatype="integer"/>
		</columns>
	</table>
	<table name="ItemGroups" db="occup" sync="MASTER">
		<columns>
			<column name="groupId" dbtype="int" javatype="integer" primary="1"/>
			<column name="groupname" dbtype="varchar" javatype="string" size="255"/>
		</columns>
	</table>
	<table name="Items" db="occup" sync="NONE">
		<columns>
			<column name="itemId" dbtype="int" javatype="integer" primary="1"/>
			<column name="type" dbtype="varchar" javatype="string" size="255"/>
			<column name="value" dbtype="varchar" javatype="string" size="255"/>
			<column name="date" dbtype="datetime" javatype="date"/>
			<column name="transactionId" dbtype="int" javatype="integer"/>
			<column name="serverid" dbtype="int" javatype="integer" primary="1"/>
			<column name="version" dbtype="int" javatype="integer" primary="1"/>
			<column name="versionserverid" dbtype="int" javatype="integer"/>
			<column name="priority" dbtype="int" javatype="integer"/>
		</columns>
		<indexes>
			<index name="items_itemid">
				<indexcolumn name="itemId" order="ASC"/>
			</index>
            <index name="items_transactionid">
                <indexcolumn name="transactionId" order="ASC"/>
            </index>
            <index name="items_serveridtransactionid">
                <indexcolumn name="serverid" order="ASC"/>
                <indexcolumn name="transactionId" order="ASC"/>
            </index>
		</indexes>
	</table>
	<table name="ItemsHistory" db="occup" sync="NONE">
		<columns>
			<column name="itemId" dbtype="int" javatype="integer" primary="1"/>
			<column name="type" dbtype="varchar" javatype="string" size="255"/>
			<column name="value" dbtype="varchar" javatype="string" size="255"/>
			<column name="date" dbtype="datetime" javatype="date"/>
			<column name="transactionId" dbtype="int" javatype="integer"/>
			<column name="serverid" dbtype="int" javatype="integer" primary="1"/>
			<column name="version" dbtype="int" javatype="integer" primary="1"/>
			<column name="versionserverid" dbtype="int" javatype="integer"/>
		</columns>
	</table>
	<table name="ItemTypeAttributes" db="occup" sync="NONE">
		<columns>
			<column name="itemType" dbtype="varchar" javatype="string" size="255"/>
			<column name="name" dbtype="varchar" javatype="string" size="255"/>
			<column name="value" dbtype="varchar" javatype="string" size="255"/>
			<column name="userid" dbtype="int" javatype="integer"/>
		</columns>
		<indexes>
			<index name="itemtypeattributes_type">
				<indexcolumn name="itemType" order="ASC"/>
			</index>
		</indexes>
	</table>
    <table name="ItemValueIndex" db="occup" sync="NONE">
        <columns>
            <column name="value" dbtype="varchar" javatype="string" size="255"/>
            <column name="serverid" dbtype="int" javatype="integer"/>
            <column name="itemid" dbtype="int" javatype="integer"/>
        </columns>
        <indexes>
            <index name="itemvalueindex_value">
                <indexcolumn name="value" order="ASC"/>
            </index>
            <index name="itemvalueindex_serveritem">
                <indexcolumn name="serverid" order="ASC"/>
                <indexcolumn name="itemid" order="ASC"/>
            </index>
        </indexes>
    </table>
	<table name="ItemViewList" db="occup" sync="MASTEREXIST">
		<columns>
			<column name="itemType" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="label" dbtype="varchar" javatype="string" size="255"/>
			<column name="context1" dbtype="varchar" javatype="string" size="255"/>
			<column name="context2" dbtype="varchar" javatype="string" size="255"/>
			<column name="context3" dbtype="varchar" javatype="string" size="255"/>
			<column name="priority" dbtype="int" javatype="integer"/>
			<column name="showValue" dbtype="int" javatype="integer"/>
		</columns>
		<indexes>
			<index name="itemviewlist_type">
				<indexcolumn name="itemType" order="ASC"/>
			</index>
		</indexes>
	</table>
	<table name="KeyFrequencies" db="occup" sync="MASTEREXIST">
		<columns>
			<column name="messageKey" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="frequency" dbtype="int" javatype="integer"/>
		</columns>
	</table>
    <table name="Keywords" db="occup" sync="NONE">
        <columns>
            <column name="keyword" dbtype="varchar" javatype="string" size="255"/>
            <column name="concept" dbtype="char" javatype="string" size="10"/>
            <column name="language" dbtype="char" javatype="string" size="1"/>
        </columns>
        <indexes>
            <index name="keywords">
                <indexcolumn name="keyword" order="ASC"/>
            </index>
        </indexes>
    </table>
    <table name="LabRiskExaminationAnalyses" db="occup" sync="MASTER">
        <columns>
            <column name="rowid" dbtype="int" javatype="integer" primary="1"/>
            <column name="riskExaminationId" dbtype="int" javatype="integer"/>
            <column name="code" dbtype="varchar" javatype="string" size="255"/>
        </columns>
        <indexes>
            <index name="lab_riskexaminationid">
                <indexcolumn name="riskExaminationId" order="ASC"/>
            </index>
        </indexes>
    </table>
	<table name="Macros" db="occup" sync="MASTEREXIST">
		<columns>
			<column name="id" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="category" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="nl" dbtype="varchar" javatype="string" size="255"/>
			<column name="fr" dbtype="varchar" javatype="string" size="255"/>
		</columns>
	</table>
    <table name="MedidocKeywords" db="occup" sync="MASTER">
        <columns>
            <column name="m_key" dbtype="varchar" javatype="string" size="255"/>
            <column name="m_namenl" dbtype="varchar" javatype="string" size="255"/>
            <column name="m_namefr" dbtype="varchar" javatype="string" size="255"/>
            <column name="m_nameen" dbtype="varchar" javatype="string" size="255"/>
        </columns>
    </table>
    <table name="MedidocUnits" db="occup" sync="MASTER">
        <columns>
            <column name="m_key" dbtype="varchar" javatype="string" size="255"/>
            <column name="m_namenl" dbtype="varchar" javatype="string" size="255"/>
            <column name="m_namefr" dbtype="varchar" javatype="string" size="255"/>
            <column name="m_nameen" dbtype="varchar" javatype="string" size="255"/>
        </columns>
    </table>
	<table name="OW_Config" db="occup" sync="NONE">
		<columns>
			<column name="ow_key" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="ow_value" dbtype="text" javatype="string"/>
			<column name="deletedate" dbtype="datetime" javatype="date"/>
			<column name="updatetime" dbtype="datetime" javatype="date"/>
			<column name="updateuserid" dbtype="int" javatype="integer"/>
			<column name="comment" dbtype="varchar" javatype="string" size="255"/>
            <column name="override" dbtype="int" javatype="integer"/>
            <column name="defaultvalue" dbtype="varchar" javatype="string" size="255"/>
            <column name="sql_value" dbtype="text" javatype="string"/>
            <column name="synchronize" dbtype="char" javatype="string" size="1"/>
		</columns>
	</table>
    <table name="patientDiagnosis" db="occup" sync="MERGE">
        <columns>
            <column name="personId" dbtype="int" javatype="integer" primary="1"/>
            <column name="diagnose" dbtype="varchar" javatype="string" size="255" primary="1"/>
            <column name="comment" dbtype="varchar" javatype="string" size="255"/>
            <column name="beginDate" dbtype="datetime" javatype="date" primary="1"/>
            <column name="endDate" dbtype="datetime" javatype="date"/>
        </columns>
        <indexes>
            <index name="personId">
                <indexcolumn name="personId" order="ASC"/>
            </index>
        </indexes>
    </table>
	<table name="PermanentItems" db="occup" sync="MERGE">
		<columns>
			<column name="transactionId" dbtype="int" javatype="integer" primary="1"/>
			<column name="serverid" dbtype="int" javatype="integer" primary="1"/>
			<column name="itemType" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="ts" dbtype="datetime" javatype="date" version="1"/>
		</columns>
		<indexes>
			<index name="permanentitems_transactionid">
				<indexcolumn name="transactionId" order="ASC"/>
			</index>
			<index name="permanentitems_itemtype">
				<indexcolumn name="itemType" order="ASC"/>
			</index>
		</indexes>
	</table>
	<table name="PersonalExaminations" db="occup" sync="MASTEREXIST">
		<columns>
			<column name="personalExaminationId" dbtype="int" javatype="integer" primary="1"/>
			<column name="tolerance" dbtype="int" javatype="integer"/>
			<column name="frequency" dbtype="int" javatype="integer"/>
			<column name="personId" dbtype="int" javatype="integer"/>
			<column name="examinationId" dbtype="int" javatype="integer"/>
		</columns>
	</table>
	<table name="PersonalRisks" db="occup" sync="MASTEREXIST">
		<columns>
			<column name="personId" dbtype="int" javatype="integer" primary="1"/>
			<column name="riskId" dbtype="int" javatype="integer" primary="1"/>
		</columns>
	</table>
	<table name="report_riskSummaryPerUnit" db="occup" sync="NONE">
		<columns>
			<column name="personId" dbtype="int" javatype="integer" primary="1"/>
			<column name="lastname" dbtype="varchar" javatype="string" size="255"/>
			<column name="firstname" dbtype="varchar" javatype="string" size="255"/>
			<column name="immat" dbtype="varchar" javatype="string" size="20"/>
			<column name="unit" dbtype="varchar" javatype="string" size="255"/>
			<column name="r1" dbtype="char" javatype="string" size="1"/>
			<column name="r2" dbtype="char" javatype="string" size="1"/>
			<column name="r3" dbtype="char" javatype="string" size="1"/>
			<column name="r4" dbtype="char" javatype="string" size="1"/>
			<column name="r5" dbtype="char" javatype="string" size="1"/>
			<column name="r6" dbtype="char" javatype="string" size="1"/>
			<column name="r7" dbtype="char" javatype="string" size="1"/>
			<column name="r8" dbtype="char" javatype="string" size="1"/>
			<column name="hasProfile" dbtype="char" javatype="string" size="1"/>
		</columns>
	</table>
	<table name="ResultGroups" db="occup" sync="MASTEREXIST">
		<columns>
			<column name="type" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="priority" dbtype="int" javatype="integer" primary="1"/>
			<column name="id" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="groupid" dbtype="varchar" javatype="string" size="255" primary="1"/>
		</columns>
	</table>
	<table name="RiskCodes" db="occup" sync="MASTER">
		<columns>
			<column name="id" dbtype="int" javatype="integer" primary="1"/>
			<column name="code" dbtype="varchar" javatype="string" size="255"/>
			<column name="showDefault" dbtype="int" javatype="integer"/>
			<column name="NL" dbtype="varchar" javatype="string" size="255"/>
			<column name="FR" dbtype="varchar" javatype="string" size="255"/>
			<column name="messageKey" dbtype="varchar" javatype="string" size="255"/>
			<column name="active" dbtype="int" javatype="integer"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
			<column name="deletedate" dbtype="datetime" javatype="date"/>
			<column name="updateuserid" dbtype="int" javatype="integer"/>
        </columns>
	</table>
	<table name="RiskExaminations" db="occup" sync="MASTER">
		<columns>
			<column name="riskExaminationId" dbtype="int" javatype="integer" primary="1"/>
			<column name="frequency" dbtype="int" javatype="integer"/>
			<column name="tolerance" dbtype="int" javatype="integer"/>
			<column name="riskId" dbtype="int" javatype="integer"/>
			<column name="examinationId" dbtype="int" javatype="integer"/>
			<column name="ageGenderControl" dbtype="char" javatype="string" size="1"/>
			<column name="active" dbtype="int" javatype="integer"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
		</columns>
	</table>
	<table name="RiskProfileContexts" db="occup" sync="NONE">
		<columns>
			<column name="profileContextId" dbtype="int" javatype="integer" primary="1"/>
			<column name="itemType" dbtype="varchar" javatype="string" size="255"/>
			<column name="itemId" dbtype="int" javatype="integer"/>
			<column name="profileId" dbtype="int" javatype="integer"/>
		</columns>
		<indexes>
			<index name="riskprofilecontexts_profileid">
				<indexcolumn name="profileId" order="ASC"/>
			</index>
		</indexes>
	</table>
	<table name="RiskProfileItems" db="occup" sync="NONE">
		<columns>
			<column name="profileItemId" dbtype="int" javatype="integer" primary="1"/>
			<column name="itemType" dbtype="varchar" javatype="string" size="255"/>
			<column name="itemId" dbtype="int" javatype="integer"/>
			<column name="status" dbtype="int" javatype="integer"/>
			<column name="comment" dbtype="varchar" javatype="string" size="255"/>
			<column name="profileId" dbtype="int" javatype="integer"/>
			<column name="frequency" dbtype="int" javatype="integer"/>
			<column name="tolerance" dbtype="int" javatype="integer"/>
			<column name="ageGenderControl" dbtype="char" javatype="string" size="1"/>
		</columns>
		<indexes>
			<index name="riskprofileitems_profileid">
				<indexcolumn name="profileId" order="ASC"/>
			</index>
		</indexes>
	</table>
	<table name="RiskProfiles" db="occup" sync="MERGE" proc="RiskProfile" insql="dateEnd is null" outsql="dateEnd is null">
		<columns>
			<column name="profileId" dbtype="int" javatype="integer"/>
			<column name="dateBegin" dbtype="datetime" javatype="date" version="1" primary="1"/>
			<column name="dateEnd" dbtype="datetime" javatype="date"/>
			<column name="personId" dbtype="int" javatype="integer" primary="1"/>
			<column name="updatetime" dbtype="datetime" javatype="date"/>
			<column name="comment" dbtype="varchar" javatype="string" size="255"/>
            <column name="updateserverid" dbtype="int" javatype="integer"/>
		</columns>
		<indexes>
            <index name="riskprofileitems_profileId">
                <indexcolumn name="personId" order="ASC"/>
            </index>
            <index name="riskprofileitems_personid">
                <indexcolumn name="personId" order="ASC"/>
            </index>
		</indexes>
	</table>
	<table name="Selection" db="occup" sync="NONE">
		<columns>
			<column name="selectionId" dbtype="varchar" javatype="string" size="255"/>
			<column name="personId" dbtype="int" javatype="integer" primary="1"/>
			<column name="profileId" dbtype="int" javatype="integer" primary="1"/>
			<column name="flag1" dbtype="bit" javatype="boolean" nulls="0"/>
			<column name="flag2" dbtype="bit" javatype="boolean" nulls="0"/>
			<column name="flag3" dbtype="bit" javatype="boolean" nulls="0"/>
			<column name="flag4" dbtype="bit" javatype="boolean" nulls="0"/>
			<column name="flag5" dbtype="bit" javatype="boolean" nulls="0"/>
			<column name="flag6" dbtype="bit" javatype="boolean" nulls="0"/>
			<column name="flag7" dbtype="bit" javatype="boolean" nulls="0"/>
			<column name="flag8" dbtype="bit" javatype="boolean" nulls="0"/>
			<column name="profileStart" dbtype="datetime" javatype="date"/>
			<column name="profileStop" dbtype="datetime" javatype="date"/>
			<column name="serviceId" dbtype="varchar" javatype="string" size="255"/>
			<column name="serviceStart" dbtype="datetime" javatype="date"/>
			<column name="serviceStop" dbtype="datetime" javatype="date"/>
			<column name="linkId" dbtype="int" javatype="integer"/>
		</columns>
		<indexes>
			<index name="selection_personid">
				<indexcolumn name="personId" order="ASC"/>
			</index>
			<index name="selection_serviceId">
				<indexcolumn name="serviceId" order="ASC"/>
			</index>
		</indexes>
	</table>
	<table name="Servers" db="occup" sync="MASTEREXIST">
		<columns>
			<column name="serverId" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="serverName" dbtype="varchar" javatype="string" size="255"/>
			<column name="fromServerDirectory" dbtype="varchar" javatype="string" size="255"/>
			<column name="toServerDirectory" dbtype="varchar" javatype="string" size="255"/>
            <column name="updateuserid" dbtype="int" javatype="integer"/>
            <column name="updatetime" dbtype="datetime" javatype="date"/>
            <column name="deletetime" dbtype="datetime" javatype="date"/>
		</columns>
	</table>
	<table name="Transactions" db="occup" sync="MERGE" proc="Transaction">
		<columns>
			<column name="transactionId" dbtype="int" javatype="integer" primary="1"/>
			<column name="creationDate" dbtype="datetime" javatype="date"/>
			<column name="transactionType" dbtype="varchar" javatype="string" size="255"/>
			<column name="updateTime" dbtype="datetime" javatype="date"/>
			<column name="status" dbtype="int" javatype="integer"/>
			<column name="healthRecordId" dbtype="int" javatype="integer"/>
			<column name="userId" dbtype="int" javatype="integer"/>
			<column name="serverid" dbtype="int" javatype="integer" primary="1"/>
			<column name="version" dbtype="int" javatype="integer"/>
			<column name="versionserverid" dbtype="int" javatype="integer"/>
			<column name="ts" dbtype="datetime" javatype="date" version="1"/>
		</columns>
		<indexes>
			<index name="transactions_transactionid">
				<indexcolumn name="transactionId" order="ASC"/>
			</index>
            <index name="transactions_healthrecordid">
                <indexcolumn name="healthRecordId" order="ASC"/>
            </index>
            <index name="transactions_ts">
                <indexcolumn name="ts" order="ASC"/>
            </index>
            <index name="transactions_updatetime">
                <indexcolumn name="updateTime" order="ASC"/>
            </index>
		</indexes>
	</table>
    <table name="TransactionItems" db="occup" sync="MASTER">
        <columns>
            <column name="transactionTypeId" dbtype="varchar" javatype="string" size="255"/>
            <column name="itemTypeId" dbtype="varchar" javatype="string" size="255"/>
            <column name="defaultValue" dbtype="varchar" javatype="string" size="255"/>
            <column name="modifier" dbtype="varchar" javatype="string" size="255"/>
            <column name="priority" dbtype="int" javatype="integer"/>
        </columns>
    </table>
	<table name="TransactionsHistory" db="occup" sync="NONE">
		<columns>
			<column name="transactionId" dbtype="varchar" javatype="string" size="255" primary="1"/>
			<column name="creationDate" dbtype="datetime" javatype="date"/>
			<column name="transactionType" dbtype="varchar" javatype="string" size="255"/>
			<column name="updateTime" dbtype="datetime" javatype="date"/>
			<column name="status" dbtype="int" javatype="integer"/>
			<column name="healthRecordId" dbtype="int" javatype="integer"/>
			<column name="userId" dbtype="int" javatype="integer"/>
			<column name="serverid" dbtype="int" javatype="integer" primary="1"/>
			<column name="version" dbtype="int" javatype="integer" primary="1"/>
			<column name="versionserverid" dbtype="int" javatype="integer"/>
			<column name="ts" dbtype="datetime" javatype="date"/>
		</columns>
		<indexes>
			<index name="transactions_transactionid">
				<indexcolumn name="transactionId" order="ASC"/>
			</index>
			<index name="transactions_healthrecordid">
				<indexcolumn name="healthRecordId" order="ASC"/>
			</index>
		</indexes>
	</table>
	<table name="UserRequests" db="occup" sync="NONE">
		<columns>
			<column name="userid" dbtype="int" javatype="integer"/>
			<column name="firstpagetime" dbtype="datetime" javatype="date"/>
			<column name="lastpagetime" dbtype="datetime" javatype="date"/>
			<column name="pagerequest" dbtype="image" javatype="bytes"/>
		</columns>
		<indexes>
			<index name="userreqs_userid_firstpage">
				<indexcolumn name="userid" order="ASC"/>
				<indexcolumn name="firstpagetime" order="ASC"/>
			</index>
		</indexes>
	</table>
	<table name="WorkplaceRisks" db="occup" sync="MASTER">
		<columns>
			<column name="riskId" dbtype="int" javatype="integer" primary="1"/>
			<column name="workplaceId" dbtype="int" javatype="integer" primary="1"/>
			<column name="active" dbtype="int" javatype="integer"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
		</columns>
		<indexes>
			<index name="workplacerisks_workplaceid">
				<indexcolumn name="workplaceId" order="ASC"/>
			</index>
		</indexes>
	</table>
	<table name="Workplaces" db="occup" sync="MASTER">
		<columns>
			<column name="id" dbtype="int" javatype="integer" primary="1"/>
			<column name="messageKey" dbtype="varchar" javatype="string" size="255"/>
			<column name="deletedate" dbtype="datetime" javatype="date"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
			<column name="updateuserid" dbtype="int" javatype="integer"/>
			<column name="NL" dbtype="varchar" javatype="string" size="255"/>
			<column name="FR" dbtype="varchar" javatype="string" size="255"/>
			<column name="active" dbtype="int" javatype="integer"/>
			<column name="serviceId" dbtype="varchar" javatype="string" size="255"/>
		</columns>
	</table>
    <table name="Errors" db="occup" sync="NONE">
		<columns>
			<column name="updatetime" dbtype="datetime" javatype="date"/>
			<column name="updateuserid" dbtype="int" javatype="integer"/>
			<column name="errorpage" dbtype="varchar" javatype="string" size="255"/>
            <column name="errortext" dbtype="image" javatype="bytes"/>
		</columns>
        <indexes>
			<index name="errors_updatetime">
				<indexcolumn name="updatetime" order="ASC"/>
			</index>
		</indexes>
	</table>
    <table name="DeleteObjects" db="occup" sync="NONE">
		<columns>
			<column name="ow_objectname" dbtype="varchar" javatype="string" size="255"/>
            <column name="ow_objectid" dbtype="varchar" javatype="string" size="255"/>
			<column name="updatetime" dbtype="datetime" javatype="date" version="1"/>
		</columns>
	</table>

    <!-- ####################################### OCCUP VIEWS ###################################### -->
	
    <view name="AdminServicesView" db="occup" drop="1">
        <sql db="Microsoft SQL Server">
            create view AdminServicesView as
            select * from @admin@.dbo.AdminServices
        </sql>
        <sql db="Adaptive Server Enterprise">
            create view AdminServicesView as
            select * from admin.dbo.AdminServices
        </sql>
        <sql db="Cache">
            create view AdminServicesView as
            select * from AdminServices
        </sql>
	</view>
	<view name="AdminView" db="occup" drop="1">
        <sql db="Microsoft SQL Server">
            create view AdminView as select * from @admin@.dbo.Admin
        </sql>
        <sql db="Adaptive Server Enterprise">
            create view AdminView as select * from admin.dbo.Admin
        </sql>
        <sql db="Cache">
            create view AdminView as select * from Admin
        </sql>
	</view>
	
	<view name="DiagnosisConvocation" db="occup" drop="1">
		<sql>
			create view DiagnosisConvocation as
			select a.convocationId, a.label diagnosis, b.criterium criterium
			from FullConvocation a, diagnoses b
			where
			a.itemType=b.itemTypeId
		</sql>
	</view>	

	<view name="LabelsView" db="occup" drop="1">
        <sql db="Microsoft SQL Server">
            create view LabelsView as select * from @admin@.dbo.Labels
        </sql>
        <sql db="Adaptive Server Enterprise">
            create view LabelsView as select * from admin.dbo.Labels
        </sql>
        <sql db="Cache">
            create view LabelsView as select * from Labels
        </sql>
	</view>
    <view name="LastConvocation" db="occup" drop="1">
        <sql>
            create view LastConvocation as
            select  personId personid,max(convert(datetime,c.value,103)) lastconvocation from Transactions a, Healthrecord b, Items c
            where
            a.healthRecordId=b.healthRecordId and
            a.transactionId=c.transactionId and
            a.serverid=c.serverid and
            a.transactionType='be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_MER' and
            c.type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_MER_EXAMINATION_DATE'
            group by personId
        </sql>
    </view>
    <view name="LastDrivingCertificate" db="occup" drop="1">
        <sql>
            create view LastDrivingCertificate as
            select  personId personid,max(updateTime) lastconvocation from Transactions a, Healthrecord b
            where
            a.healthRecordId=b.healthRecordId and
            a.transactionType='be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_DLC'
            group by personId
        </sql>
    </view>
    <view name="MERs" db="occup" drop="1">
        <sql>
            create view MERs as
            select distinct a.personId,c.value examinationDate,d.value convocationDate from
            Healthrecord a,Transactions b,Items c,Items d
            where
            a.healthRecordId=b.healthRecordId and
            b.transactionType='be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_MER' and
            b.transactionId=c.transactionId and
            b.serverid=c.serverid and
            b.transactionId=d.transactionId and
            b.serverid=d.serverid and
            c.type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_MER_EXAMINATION_DATE' and
            d.type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_MER_NEW_CONVOCATION_DATE'
        </sql>
    </view>
    <view name="MERView" db="occup" drop="1">
        <sql db="Microsoft SQL Server">
            create view MERView as
            select a.userId,a.healthRecordId,a.transactionId,a.serverid,a.transactionType,a.updateTime,a.ts
            from Transactions a ,Items b
            where
            a.transactionId=b.transactionId and
            a.serverid=b.serverid and
            a.transactionType='be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_MER' and
            b.type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CONTEXT_CONTEXT' and
            b.value in ('context.context.screenworkers','context.context.drivers-licence','context.context.periodic-examinations','context.context.previous-to-work')
        </sql>
        <sql db="Adaptive Server Enterprise">
            create view MERView as
            select a.userId,a.healthRecordId,a.transactionId,a.serverid,a.transactionType,a.updateTime,a.ts
            from Transactions a ,Items b
            where
            a.transactionId=b.transactionId and
            a.serverid=b.serverid and
            a.transactionType='be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_MER' and
            b.type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CONTEXT_CONTEXT' and
            b.value in ('context.context.screenworkers','context.context.drivers-licence','context.context.periodic-examinations','context.context.previous-to-work')
        </sql>
        <sql db="Cache">
            create view MERView as
            select a.userId,a.healthRecordId,a.transactionId,a.serverid,a.transactionType,a.updateTime,a.ts
            from Transactions a ,Items b
            where
            a.transactionId=b.transactionId and
            a.serverid=b.serverid and
            a.transactionType='be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_MER' and
            b.type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CONTEXT_CONTEXT' and
            b.value in ('context.context.screenworkers','context.context.drivers-licence','context.context.periodic-examinations','context.context.previous-to-work')
        </sql>
    </view>
    <view name="OPHTALMOLOGYView" db="occup" drop="1">
        <sql db="Microsoft SQL Server">
            create view OPHTALMOLOGYView as
            select a.userId,a.healthRecordId,a.transactionId,a.serverid,a.transactionType,a.updateTime,a.ts
            from Transactions a ,Items b
            where
            a.transactionId=b.transactionId and
            a.serverid=b.serverid and
            a.transactionType='be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_OPHTALMOLOGY' and
            b.type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CONTEXT_CONTEXT' and
            b.value in ('context.context.screenworkers')
        </sql>
        <sql db="Adaptive Server Enterprise">
            create view OPHTALMOLOGYView as
            select a.userId,a.healthRecordId,a.transactionId,a.serverid,a.transactionType,a.updateTime,a.ts
            from Transactions a ,Items b
            where
            a.transactionId=b.transactionId and
            a.serverid=b.serverid and
            a.transactionType='be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_OPHTALMOLOGY' and
            b.type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CONTEXT_CONTEXT' and
            b.value in ('context.context.screenworkers')
        </sql>
        <sql db="Cache">
            create view OPHTALMOLOGYView as
            select a.userId,a.healthRecordId,a.transactionId,a.serverid,a.transactionType,a.updateTime,a.ts
            from Transactions a ,Items b
            where
            a.transactionId=b.transactionId and
            a.serverid=b.serverid and
            a.transactionType='be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_OPHTALMOLOGY' and
            b.type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CONTEXT_CONTEXT' and
            b.value in ('context.context.screenworkers')
        </sql>
    </view>
    
	<view name="ServicesAddressView" db="occup" drop="1">
        <sql db="Microsoft SQL Server">
            create view ServicesAddressView as
            SELECT convert(int,zipcode) zip, * FROM @admin@.dbo.Services
        </sql>
        <sql db="Adaptive Server Enterprise">
            create view ServicesAddressView as
            SELECT convert(int,zipcode) zip, * FROM admin.dbo.Services
        </sql>
        <sql db="Cache">
            create view ServicesAddressView as
            SELECT convert(int,zipcode) zip, * FROM Services
        </sql>
	</view>
	<view name="ServicesView" db="occup" drop="1">
        <sql db="Microsoft SQL Server">
            create view ServicesView
            as
            select workid,servicetype,labeltype,labelid,labelnl,labelfr,labelen,c.*
            from @admin@.dbo.AdminServices,@admin@.dbo.Labels,@admin@.dbo.Services c
            where
            @admin@.dbo.AdminServices.serviceid=c.serviceid and
            @admin@.dbo.Labels.labeltype='service' and
            @admin@.dbo.Labels.labelid = @admin@.dbo.AdminServices.serviceid
        </sql>
        <sql db="Adaptive Server Enterprise">
            create view ServicesView
            as
            select workid,servicetype,labeltype,labelid,labelnl,labelfr,labelen,c.*
            from admin.dbo.AdminServices,admin.dbo.Labels,admin.dbo.Services c
            where
            admin.dbo.AdminServices.serviceid=c.serviceid and
            admin.dbo.Labels.labeltype='service' and
            admin.dbo.Labels.labelid = admin.dbo.AdminServices.serviceid
        </sql>
        <sql db="Cache">
            create view ServicesView
            as
            select workid,servicetype,labeltype,labelid,labelnl,labelfr,labelen,c.*
            from AdminServices,Labels,Services c
            where
            AdminServices.serviceid=c.serviceid and
            Labels.labeltype='service' and
            Labels.labelid = AdminServices.serviceid
        </sql>
	</view>
    <view name="ServicesViewYearReport" db="occup" drop="1">
        <sql db="Microsoft SQL Server">
            create view ServicesViewYearReport as select * from @admin@.dbo.ServicesView
        </sql>
        <sql db="Adaptive Server Enterprise">
            create view ServicesViewYearReport as select * from admin.dbo.ServicesView
        </sql>
        <sql db="Cache">
            create view ServicesViewYearReport as select * from ServicesView
        </sql>
    </view>
    <view name="TransactionView" db="occup" drop="1">
        <sql db="Microsoft SQL Server">
            create view TransactionView as
            select b.value,a.userId,a.healthRecordId,a.transactionId,a.serverid,a.transactionType,a.updateTime,a.ts
            from Transactions a ,Items b
            where
            a.transactionId=b.transactionId and
            a.serverid=b.serverid and
            b.type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CONTEXT_CONTEXT'
        </sql>
        <sql db="Adaptive Server Enterprise">
            create view TransactionView as
            select b.value,a.userId,a.healthRecordId,a.transactionId,a.serverid,a.transactionType,a.updateTime,a.ts
            from Transactions a,Items b
            where
            a.transactionId=b.transactionId and
            a.serverid=b.serverid and
            b.type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CONTEXT_CONTEXT'
        </sql>
        <sql db="Cache">
            create view TransactionView as
            select b."value",a.userId,a.healthRecordId,a.transactionId,a.serverid,a.transactionType,a.updateTime,a.ts
            from Transactions a,Items b
            where
            a.transactionId=b.transactionId and
            a.serverid=b.serverid and
            b.type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CONTEXT_CONTEXT'
        </sql>
    </view>
	<view name="UnitGroupsView" db="occup" drop="1">
        <sql db="Microsoft SQL Server">
            create view UnitGroupsView as select convert(int,linkId) intLinkId,* from @admin@.dbo.Groups where active=1
        </sql>
        <sql db="Adaptive Server Enterprise">
            create view UnitGroupsView as select convert(int,linkId) intLinkId,* from admin.dbo.Groups where active=1
        </sql>
        <sql db="Cache">
            create view UnitGroupsView as select convert(int,linkId) intLinkId,* from Groups where active=1
        </sql>
	</view>
	<view name="UsersView" db="occup" drop="1">
        <sql db="Microsoft SQL Server">
            create view UsersView
            as
            select * from @admin@.dbo.Users
        </sql>
        <sql db="Adaptive Server Enterprise">
            create view UsersView as select * from admin.dbo.Users
        </sql>
        <sql db="Cache">
            create view UsersView
            as
            select * from Users
        </sql>
	</view>
    <view name="UserParametersView" db="admin" drop="1">
        <sql db="Microsoft SQL Server">
            create view UserParametersView as select userid,parameter,value as myvalue,updatetime,active from UserParameters
        </sql>
        <sql db="Adaptive Server Enterprise">
            create view UserParametersView as select userid,parameter,value as myvalue,updatetime,active from UserParameters
        </sql>
        <sql db="Cache">
            create view UserParametersView as select userid,parameter,'value' as myvalue,updatetime,active from UserParameters
        </sql>
    </view>
	
    <view name="PrivateView" db="occup" drop="1">
        <sql db="Microsoft SQL Server">
            create view PrivateView as select * from @admin@.dbo.AdminPrivate
        </sql>
        <sql db="Adaptive Server Enterprise">
            create view PrivateView as select * from admin.dbo.AdminPrivate
        </sql>
        <sql db="Cache">
            create view PrivateView as select * from AdminPrivate
        </sql>
    </view>

    <!-- ##################################### PROC & EXEC ######################################## -->
	<proc name="InsertConvocation" db="occup" drop="1">
		<sql>
			create procedure InsertConvocation
			(@invitationDateTime datetime, @personID int, @comment varchar(255))
			as
			declare @convocationID int
			select @convocationID=counter from counters where name='ConvocationID'
			update counters set counter=counter+1 where name='ConvocationID'
			insert R_Convocations(convocationId,personId,invitationDateTime,visitDateTime,status,comment,updateTime)
			values(@convocationID,@personID,@invitationDateTime,null,'medwan.status.open',@comment,getdate())
		</sql>
	</proc>
	<proc name="calculateDelhaizeSubmitted" db="occup" drop="1">
		<sql>
			create proc calculateDelhaizeSubmitted(@visitsPerDay int,@maxVisitDays int,@carId varchar(255),@startDate datetime,@minInterval int = 90) as
			declare @addDays int
			declare @serviceToGo varchar(255)
			declare @activeDate datetime
			declare @freeDays int
			declare @receivedDays int
			declare @daysToGo int
			declare @group1 varchar(255)
			declare @group2 varchar(255)
            declare @tmpCount int
			select count(*) employees,serviceid,itemId,e.messageKey,count(*)/frequency submitted
			into #tmp
			from RiskProfiles a,WorkView2 b,AdminServicesView c,RiskProfileContexts d,Workplaces e, KeyFrequencies f
			where
			a.personId=b.personid and
			b.stop is null and
			a.dateEnd is null and
			b.workid=c.workid and
			servicetype='M' and
			a.profileId=d.profileId and
			d.itemType='be.dpms.medwan.common.model.IConstants.WORKPLACE' and
			d.itemId=e.id and
			e.messageKey=f.messageKey
			GROUP BY serviceid,itemId,e.messageKey,f.frequency
			order by serviceid,itemId
			select sum(employees) employees,serviceid,sum(submitted) submitted,sum(submitted)/@visitsPerDay days,0 receivedDays,dateadd(day,-@minInterval-1,@startDate) lastVisit
			into #tmp2
			from #tmp
			group by serviceid
			order by serviceid
			update #tmp2 set days=@maxVisitDays where days&gt;@maxVisitDays
			update #tmp2 set days=1 where days=0 and submitted&gt;(@visitsPerDay/2)
			delete from carSchedule where carId=@carId
			select @addDays=0
			while (@addDays&lt;366)
			begin
				select @activeDate=dateadd(day,@addDays,@startDate)
                select @serviceToGo='NIL'
                select @tmpCount=count(*) from exclusionDates where serviceId='ALL' and dateBegin &lt;=@activeDate and dateEnd&gt;=@activeDate
                if (@tmpCount=0)
                begin
                    if (datepart(weekday,@activeDate)&gt;1 and datepart(weekday,@activeDate)&lt;7)
                    begin
                        select @serviceToGo=a.serviceid
                            from #tmp2 a,serviceGroups b
                            where
                            a.serviceid=b.serviceId and
                            b.group3=convert(varchar(255),datepart(weekday,@activeDate)-1) and
                            b.group2=convert(varchar(255),((datepart(week,@activeDate)-1) % 4)+1) and
                            days-receivedDays&gt;0 and
                            datediff(day,lastVisit,@activeDate)&gt;@minInterval and
                            a.serviceid not in (select serviceId from exclusionDates where dateBegin &lt;=@activeDate and dateEnd&gt;=@activeDate)
                            order by (days-receivedDays) ASC,receivedDays ASC,lastVisit DESC
                    end
                    if (@serviceToGo='NIL')
                    begin
                        select @serviceToGo=a.serviceid
                            from #tmp2 a,serviceGroups b
                            where
                            a.serviceid=b.serviceId and
                            b.group3=convert(varchar(255),datepart(weekday,@activeDate)-1) and
                            b.group2=convert(varchar(255),((datepart(week,@activeDate)) % 4)+1) and
                            days-receivedDays&gt;0 and
                            datediff(day,lastVisit,@activeDate)&gt;@minInterval and
                            a.serviceid not in (select serviceId from exclusionDates where dateBegin &lt;=@activeDate and dateEnd&gt;=@activeDate)
                            order by (days-receivedDays) ASC,receivedDays ASC,lastVisit DESC
                    end
                    if (@serviceToGo='NIL')
                    begin
                        select @serviceToGo=a.serviceid
                            from #tmp2 a,serviceGroups b
                            where
                            a.serviceid=b.serviceId and
                            b.group3=convert(varchar(255),datepart(weekday,@activeDate)-1) and
                            b.group2=convert(varchar(255),((datepart(week,@activeDate)+1) % 4)+1) and
                            days-receivedDays&gt;0 and
                            datediff(day,lastVisit,@activeDate)&gt;@minInterval and
                            a.serviceid not in (select serviceId from exclusionDates where dateBegin &lt;=@activeDate and dateEnd&gt;=@activeDate)
                            order by (days-receivedDays) ASC,receivedDays ASC,lastVisit DESC
                    end
                    if (@serviceToGo='NIL')
                    begin
                        select @serviceToGo=a.serviceid
                            from #tmp2 a,serviceGroups b
                            where
                            a.serviceid=b.serviceId and
                            b.group3=convert(varchar(255),datepart(weekday,@activeDate)-1) and
                            b.group2=convert(varchar(255),((datepart(week,@activeDate)+2) % 4)+1) and
                            days-receivedDays&gt;0 and
                            datediff(day,lastVisit,@activeDate)&gt;@minInterval and
                            a.serviceid not in (select serviceId from exclusionDates where dateBegin &lt;=@activeDate and dateEnd&gt;=@activeDate)
                            order by (days-receivedDays) ASC,receivedDays ASC,lastVisit DESC
                    end
                end
                if (@serviceToGo&lt;&gt;'NIL')
                begin
                    update #tmp2 set receivedDays=receivedDays+1,lastVisit=@activeDate where serviceid=@serviceToGo
                    select @receivedDays=receivedDays,@daysToGo=days-@receivedDays from #tmp2 where serviceid=@serviceToGo
                    insert into carSchedule(carId,serviceId1,serviceId2,serviceId3,serviceId4,serviceId5,visitDateTime) select @carId,@serviceToGo,convert(varchar			(255),datepart(weekday,@activeDate)-1),char(97+((datepart(week,@activeDate)-1) % 4)),convert(varchar(255),@receivedDays),convert(varchar	(255),		@daysToGo),@activeDate
                end
                else
                begin
                    insert into carSchedule(carId,serviceId1,visitDateTime) select @carId,null,@activeDate
                end
				select @addDays=@addDays+1
			end
			select @addDays=0
			while (@addDays&lt;366)
			begin
				select @activeDate=dateadd(day,@addDays,@startDate)
                select @tmpCount=count(*) from exclusionDates where serviceId='ALL' and dateBegin &lt;=@activeDate and dateEnd&gt;=@activeDate
                if (@tmpCount=0)
                begin
                    select @serviceToGo=serviceId1 from carSchedule where visitDateTime=@activeDate
                    if ((@serviceToGo is null) and (datepart(weekday,@activeDate)&gt;1 and datepart(weekday,@activeDate)&lt;7))
                    begin
                        select @serviceToGo=a.serviceid,@group1=b.group3,@group2=b.group2
                            from #tmp2 a,serviceGroups b
                            where
                            days-receivedDays&gt;0 and
                            a.serviceid=b.serviceId and
                            b.group3 in ('1','2','3','4','5') and
                            b.group2 in ('1','2','3','4') and
                            a.serviceid not in (select serviceId from exclusionDates where dateBegin &lt;=@activeDate and dateEnd&gt;=@activeDate)
                            order by (days-receivedDays) ASC,receivedDays ASC,lastVisit DESC
                        if (@serviceToGo is not null)
                        begin
                            update #tmp2 set receivedDays=receivedDays+1,lastVisit=@activeDate where serviceid=@serviceToGo
                            select @receivedDays=receivedDays,@daysToGo=days-@receivedDays from #tmp2 where serviceid=@serviceToGo
                            update carSchedule set serviceId1=@serviceToGo,serviceId2=@group1,serviceId3=char(96+convert(int,@group2)),serviceId4=convert(varchar(255),@receivedDays),serviceId5=convert(varchar(255),@daysToGo) where visitDateTime=@activeDate
                        end
                    end
                end
				select @addDays=@addDays+1
			end
			select a.*,b.labelnl serviceName from carSchedule a,LabelsView b where a.serviceId1*=b.labelid and b.labeltype='service' order by visitDateTime
		</sql>
	</proc>
	<proc name="exRisksQuery" db="occup" drop="1">
		<sql>
			create proc exRisksQuery(@selectionId varchar(255))
			as
			select
			convert(bit,sum(flag1&amp;1))&amp;1 as ow_f1,
			convert(bit,sum(flag2&amp;1))&amp;1 as ow_f2,
			convert(bit,sum(flag3&amp;1))&amp;1 as ow_f3,
			convert(bit,sum(flag4&amp;1))&amp;1 as ow_f4,
			convert(bit,sum(flag5&amp;1))&amp;1 as ow_f5,
			convert(bit,sum(flag6&amp;1))&amp;1 as ow_f6,
			convert(bit,sum(flag7&amp;1))&amp;1 as ow_f7
			into #exRisks
			from Selection where selectionId=@selectionId group by personId
			select
			sum(ow_f1) as ow_f1,
			sum(ow_f2) as ow_f2,
			sum(ow_f3) as ow_f3,
			sum(ow_f4) as ow_f4,
			sum(ow_f5) as ow_f5,
			sum(ow_f6) as ow_f6,
			sum(ow_f7) as ow_f7
			from #exRisks
		</sql>
	</proc>
	<proc name="exSubjectsTotalQuery" db="occup" drop="1">
		<sql>
			create proc exSubjectsTotalQuery(@selectionId varchar(255))
			as
			select convert(bit,sum((flag6|flag1|flag2|flag3)&amp;1))&amp;1 as s_f1,convert(bit,sum(flag4 &amp;~((flag6|flag1|flag2|flag3)&amp;1)))&amp;1 as s_f2,
			convert(bit,sum(flag5 &amp;~((flag6|flag1|flag2|flag3|flag4)&amp;1)))&amp;1 as s_f3
			into #exSub
			from Selection
			where selectionId=@selectionId
			group by personId,serviceId
			select sum(s_f1) as s_f1,sum(s_f2) as s_f2,
			sum(s_f3) as s_f3
			from #exSub
		</sql>
	</proc>
	<proc name="hasRisk" db="occup" drop="1">
		<sql db="Microsoft SQL Server">
			create proc hasRisk
			(@personid int, @riskcode varchar(255),@result char(1) output)
			as
			begin
			declare cpHR CURSOR for
				select  a.personId personid
				from
				RiskProfiles a,RiskProfileContexts b,FunctionCategoryRisks c,RiskCodes d
				where
				a.profileId=b.profileId and
				b.itemType='be.dpms.medwan.common.model.IConstants.FUNCTION_CATEGORY' and
				a.dateEnd=null and
				b.itemId=c.functionCategoryId and
				c.riskId=d.id and
				code like @riskcode+'%' and
				personId=@personid
				union
				select a.personId personid
				from
				RiskProfiles a,RiskProfileContexts b,WorkplaceRisks c,RiskCodes d
				where
				a.profileId=b.profileId and
				b.itemType='be.dpms.medwan.common.model.IConstants.WORKPLACE' and
				a.dateEnd=null and
				b.itemId=c.workplaceId and
				c.riskId=d.id and
				code like @riskcode+'%' and
				personId=@personid
				union
				select a.personId personid
				from
				RiskProfiles a,RiskProfileItems b,RiskCodes c
				where
				a.profileId=b.profileId and
				b.itemType='be.dpms.medwan.common.model.IConstants.PERSONAL_RISK' and
				a.dateEnd=null and
				b.itemId=c.id and
				code like @riskcode+'%' and
				personId=@personid
				open cpHR
				fetch cpHR into @personid
				if (@@FETCH_STATUS=0)
					select @result='Y'
				else
					select @result='N'
				close cpHR
			end
		</sql>
        <sql db="Adaptive Server Enterprise">
            create proc hasRisk
            (@personid int, @riskcode varchar(255),@result char(1) output)
            as
            begin
            declare cpHR CURSOR for
                select  a.personId personid
                from
                RiskProfiles a,RiskProfileContexts b,FunctionCategoryRisks c,RiskCodes d
                where
                a.profileId=b.profileId and
                b.itemType='be.dpms.medwan.common.model.IConstants.FUNCTION_CATEGORY' and
                a.dateEnd=null and
                b.itemId=c.functionCategoryId and
                c.riskId=d.id and
                code like @riskcode+'%' and
                personId=@personid
                union
                select a.personId personid
                from
                RiskProfiles a,RiskProfileContexts b,WorkplaceRisks c,RiskCodes d
                where
                a.profileId=b.profileId and
                b.itemType='be.dpms.medwan.common.model.IConstants.WORKPLACE' and
                a.dateEnd=null and
                b.itemId=c.workplaceId and
                c.riskId=d.id and
                code like @riskcode+'%' and
                personId=@personid
                union
                select a.personId personid
                from
                RiskProfiles a,RiskProfileItems b,RiskCodes c
                where
                a.profileId=b.profileId and
                b.itemType='be.dpms.medwan.common.model.IConstants.PERSONAL_RISK' and
                a.dateEnd=null and
                b.itemId=c.id and
                code like @riskcode+'%' and
                personId=@personid
                open cpHR
                fetch cpHR into @personid
                if (@@sqlstatus=0)
                    select @result='Y'
                else
                    select @result='N'
                close cpHR
            end
        </sql>
        <sql db="Cache">
            create proc hasRisk
            (@personid int, @riskcode varchar(255),@result char(1) output)
            as
            begin
            declare cpHR CURSOR for
                select  a.personId personid
                from
                RiskProfiles a,RiskProfileContexts b,FunctionCategoryRisks c,RiskCodes d
                where
                a.profileId=b.profileId and
                b.itemType='be.dpms.medwan.common.model.IConstants.FUNCTION_CATEGORY' and
                a.dateEnd=null and
                b.itemId=c.functionCategoryId and
                c.riskId=d.id and
                code like @riskcode+'%' and
                personId=@personid
                union
                select a.personId personid
                from
                RiskProfiles a,RiskProfileContexts b,WorkplaceRisks c,RiskCodes d
                where
                a.profileId=b.profileId and
                b.itemType='be.dpms.medwan.common.model.IConstants.WORKPLACE' and
                a.dateEnd=null and
                b.itemId=c.workplaceId and
                c.riskId=d.id and
                code like @riskcode+'%' and
                personId=@personid
                union
                select a.personId personid
                from
                RiskProfiles a,RiskProfileItems b,RiskCodes c
                where
                a.profileId=b.profileId and
                b.itemType='be.dpms.medwan.common.model.IConstants.PERSONAL_RISK' and
                a.dateEnd=null and
                b.itemId=c.id and
                code like @riskcode+'%' and
                personId=@personid
                open cpHR
                fetch cpHR into @personid
                if (@@sqlstatus=0)
                    select @result='Y'
                else
                    select @result='N'
                close cpHR
            end
        </sql>
	</proc>
	
	<proc name="perExUnitQuery" db="occup" drop="1">
		<sql>
			create proc perExUnitQuery (@selectionId varchar(255))
			as
			select
			convert(bit,sum((flag6|flag1|flag2|flag3)&amp;1))&amp;1 s_f1,
			convert(bit,sum(flag4 &amp;~((flag6|flag1|flag2|flag3)&amp;1)))&amp;1 s_f2,
			convert(bit,sum(flag5 &amp;~((flag6|flag1|flag2|flag3|flag4)&amp;1)))&amp;1 s_f3,
			a.personId,serviceId,labelnl into #ruqtmp
			from Selection a, LabelsView b, Healthrecord c,Transactions d, Items e
			where
			d.transactionId=e.transactionId and
			c.healthRecordId=d.healthRecordId and
			c.personId=a.personId and
			selectionId=@selectionId And
			b.labeltype='service' and
			a.serviceId=b.labelid and
			e.type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CONTEXT_CONTEXT' and
			e.value='context.context.periodic-examinations' and
			d.updateTime&gt;=profileStart and
			d.updateTime&gt;=serviceStart and
			((profileStop is null) or (d.updateTime&lt;profileStop)) and
			((serviceStop is null) or (d.updateTime&lt;serviceStop))
			group by a.personId,serviceId,labelnl
			select sum(s_f1) ow_f1,sum(s_f2) ow_f2,sum(s_f3) ow_f3,serviceId,labelnl
			from #ruqtmp
			group by serviceId,labelnl
		</sql>
	</proc>
	<proc name="perExUserQuery" db="occup" drop="1">
		<sql>
			create proc perExUserQuery (@selectionId varchar(255))
			as
			select
			convert(bit,sum((flag6|flag1|flag2|flag3)&amp;1))&amp;1 s_f1,
			convert(bit,sum(flag4 &amp;~((flag6|flag1|flag2|flag3)&amp;1)))&amp;1 s_f2,
			convert(bit,sum(flag5 &amp;~((flag6|flag1|flag2|flag3|flag4)&amp;1)))&amp;1 s_f3,
			a.personId,b.userid,lastname,firstname into #ruqtmp
			from Selection a, UsersView b, Healthrecord c,Transactions d, Items e, AdminView f where
			d.transactionId=e.transactionId and
			c.healthRecordId=d.healthRecordId and
			c.personId=a.personId and
			selectionId=@selectionId
			and  d.userId=b.userid and
			b.personid=f.personid and
			e.type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CONTEXT_CONTEXT' and
			e.value='context.context.periodic-examinations' and
			d.updateTime&gt;=profileStart and
			d.updateTime&gt;=serviceStart and
			((profileStop is null) or (d.updateTime&lt;profileStop)) and
			((serviceStop is null) or (d.updateTime&lt;serviceStop))
			group by a.personId,b.userid,lastname,firstname
			select sum(s_f1) ow_f1,sum(s_f2) ow_f2,sum(s_f3) ow_f3,userid,lastname,firstname
			from #ruqtmp
			group by userid,lastname,firstname
		</sql>
	</proc>
	<proc name="planBusPersons" db="occup" drop="1">
		<sql db="Microsoft SQL Server">
            create proc planBusPersons as
            select a.personId,g.healthRecordId,convert(datetime,'01/01/2000',103) lastVisit, c.serviceid, convert(datetime,null,103) planned
            into #tmp
            from RiskProfiles a,WorkView2 b,AdminServicesView c,RiskProfileContexts d,Workplaces e, KeyFrequencies f, Healthrecord g where
            a.personId=b.personid and
            b.stop is null and
            a.dateEnd is null and
            b.workid=c.workid and
            servicetype='A' and
            a.profileId=d.profileId and
            d.itemType='be.dpms.medwan.common.model.IConstants.WORKPLACE' and
            d.itemId=e.id and
            e.messageKey=f.messageKey and
            a.personId *= g.personId
            order by serviceid
            update #tmp set lastVisit=lastconvocation from #tmp a,LastConvocation b where a.personId=b.personid
            declare @service varchar(255)
            declare @visitdatetime datetime
            declare @personid int
            declare ep cursor for
            select serviceId1,visitDateTime from carSchedule order by visitDateTime ASC
            open ep
            fetch ep into @service,@visitdatetime
            while (@@FETCH_STATUS=0)
            begin
                declare eq cursor for
                select personId from #tmp where planned is null and serviceid=@service order by lastVisit ASC
                fetch eq into @personid
                begin
                    update #tmp set planned=@visitdatetime where personId=@personid
                    fetch eq into @personid
                end
                close eq
                fetch ep into @service,@visitdatetime
            end
            close ep
            select * from #tmp order by serviceid
        </sql>
        <sql db="Adaptive Server Enterprise">
            create proc planBusPersons as
            select a.personId,g.healthRecordId,convert(datetime,'01/01/2000',103) lastVisit, c.serviceid, convert(datetime,null,103) planned
            into #tmp
            from RiskProfiles a,WorkView2 b,AdminServicesView c,RiskProfileContexts d,Workplaces e, KeyFrequencies f, Healthrecord g where
            a.personId=b.personid and
            b.stop is null and
            a.dateEnd is null and
            b.workid=c.workid and
            servicetype='A' and
            a.profileId=d.profileId and
            d.itemType='be.dpms.medwan.common.model.IConstants.WORKPLACE' and
            d.itemId=e.id and
            e.messageKey=f.messageKey and
            a.personId *= g.personId
            order by serviceid
            update #tmp set lastVisit=lastconvocation from #tmp a,LastConvocation b where a.personId=b.personid
            declare @service varchar(255)
            declare @visitdatetime datetime
            declare @personid int
            declare ep cursor for
            select serviceId1,visitDateTime from carSchedule order by visitDateTime ASC
            open ep
            fetch ep into @service,@visitdatetime
            while (@@sqlstatus=0)
            begin
                declare eq cursor for
                select personId from #tmp where planned is null and serviceid=@service order by lastVisit ASC
                fetch eq into @personid
                begin
                    update #tmp set planned=@visitdatetime where personId=@personid
                    fetch eq into @personid
                end
                close eq
                fetch ep into @service,@visitdatetime
            end
            close ep
            select * from #tmp order by serviceid
        </sql>
        <sql db="Cache">
            create proc planBusPersons as
            select a.personId,g.healthRecordId,convert(datetime,'01/01/2000',103) lastVisit, c.serviceid, convert(datetime,null,103) planned
            into #tmp
            from RiskProfiles a,WorkView2 b,AdminServicesView c,RiskProfileContexts d,Workplaces e, KeyFrequencies f, Healthrecord g where
            a.personId=b.personid and
            b.stop is null and
            a.dateEnd is null and
            b.workid=c.workid and
            servicetype='A' and
            a.profileId=d.profileId and
            d.itemType='be.dpms.medwan.common.model.IConstants.WORKPLACE' and
            d.itemId=e.id and
            e.messageKey=f.messageKey and
            a.personId *= g.personId
            order by serviceid
            update #tmp set lastVisit=lastconvocation from #tmp a,LastConvocation b where a.personId=b.personid
            declare @service varchar(255)
            declare @visitdatetime datetime
            declare @personid int
            declare ep cursor for
            select serviceId1,visitDateTime from carSchedule order by visitDateTime ASC
            open ep
            fetch ep into @service,@visitdatetime
            while (@@sqlstatus=0)
            begin
                declare eq cursor for
                select personId from #tmp where planned is null and serviceid=@service order by lastVisit ASC
                fetch eq into @personid
                begin
                    update #tmp set planned=@visitdatetime where personId=@personid
                    fetch eq into @personid
                end
                close eq
                fetch ep into @service,@visitdatetime
            end
            close ep
            select * from #tmp order by serviceid
        </sql>
	</proc>
	
	<proc name="risksUnitQuery" db="occup" drop="1">
		<sql>
			create proc risksUnitQuery (@selectionId varchar(255))
			as
			select
			convert(bit,sum(flag1&amp;1))&amp;1 ow_f1,
			convert(bit,sum(flag2&amp;1))&amp;1 ow_f2,
			convert(bit,sum(flag3&amp;1))&amp;1 ow_f3,
			convert(bit,sum(flag4&amp;1))&amp;1 ow_f4,
			convert(bit,sum(flag5&amp;1))&amp;1 ow_f5,
			convert(bit,sum(flag6&amp;1))&amp;1 ow_f6,
			convert(bit,sum(flag7&amp;1))&amp;1 ow_f7,
			personId,serviceId,labelnl into #ruqtmp
			from Selection a, LabelsView b
			where
			selectionId=@selectionId and
			b.labeltype='service' and
			a.serviceId=b.labelid and
			(flag6|flag1|flag2|flag3|flag4|flag5|flag7)&amp;1=1
			group by personId,serviceId,labelnl
			select sum(ow_f1) ow_f1,sum(ow_f2) ow_f2,sum(ow_f3) ow_f3,sum(ow_f4) ow_f4,sum(ow_f5) ow_f5,sum(ow_f6) ow_f6,sum(ow_f7) 				ow_f7,serviceId,labelnl
			from #ruqtmp
			group by serviceId,labelnl
		</sql>
	</proc>
	<proc name="statusReport" db="occup" drop="1">
		<sql>
			create proc statusReport (@start char(10),@stop char(10),@minzip1 int,@maxzip1 int,@minzip2 int,@maxzip2 int,@groupname varchar(255),				@selectionId varchar(255),@language varchar(255))
			as
			if @groupname='%'
			begin
				select
				a.personid,d.serviceid,convert(bit,sum(flag1&amp;1)) as flag1,
				convert(bit,sum(flag2&amp;1)) as flag2,convert(bit,sum(flag3&amp;1)) as flag3,convert(bit,sum(flag4&amp;1)) as flag4,convert(bit,sum(flag5&amp;1)) 				as flag5,convert	(bit,sum	(flag7&amp;1)) as flag7
				into #tmpreport
				from AdminView a,WorkView2 c,ServicesView d,ServicesAddressView e,Selection f
				where
				d.workid=c.workid and
			 	f.selectionId=@selectionId and
				a.personid=c.personid and
				d.serviceid=e.serviceid and
				c.start&lt;=convert(datetime,@stop,103) and (c.stop is null or c.stop&gt;convert(datetime,@start,103)) and
				(a.pension is null or a.pension&gt;convert(datetime,@start,103)) and
				((zip&gt;@minzip1 and zip&lt;@maxzip1) or (zip&gt;@minzip2 and zip&lt;@maxzip2)) and
				a.personid *=f.personId and
				a.language like @language
				group by d.serviceid,a.personid
				select distinct a.serviceid,labelnl,lastname,firstname,immatnew,dateofbirth,language,gender,a.flag1,a.flag2,a.flag3,a.flag4,a.flag5,a.flag7,selectionId
				from #tmpreport a,LabelsView b,AdminView c,Selection d
				where
				a.serviceid = b.labelid and
				b.labeltype='service' and
				a.personid=c.personid and
				a.personid*=d.personId and
				d.selectionId=@selectionId
				order by labelnl,language,lastname,firstname
			end
			else
			begin
				select
				a.personid,d.serviceid,convert(bit,sum(flag1&amp;1)) as flag1,convert(bit,sum(flag2&amp;1)) as flag2,convert(bit,sum(flag3&amp;1)) as flag3,convert				(bit,sum(flag4&amp;1)) 	as 	flag4,convert(bit,sum(flag5&amp;1)) as flag5,convert(bit,sum(flag7&amp;1)) as flag7
				into #tmpreport2
				from AdminView a,WorkView2 c,ServicesView d,ServicesAddressView e,Selection f,UnitGroupsView g
				where
				d.workid=c.workid and
				f.selectionId=@selectionId and
				a.personid=c.personid and
				d.serviceid=e.serviceid and
				c.start&lt;=convert(datetime,@stop,103) and (c.stop is null or c.stop&gt;convert(datetime,@start,103)) and
				(a.pension is null or a.pension&gt;convert(datetime,@start,103)) and
				((zip&gt;@minzip1 and zip&lt;@maxzip1) or (zip&gt;@minzip2 and zip&lt;@maxzip2)) and
				a.personid *=f.personId and
				g.linkId=e.serviceid and
				g.groupType='ServiceGroup' and
				g.groupName like @groupname and
				a.language like @language
				group by d.serviceid,a.personid

				select distinct a.serviceid,labelnl,lastname,firstname,immatnew,dateofbirth,language,gender,a.flag1,a.flag2,a.flag3,a.flag4,a.flag5,a.flag7,selectionId
				from #tmpreport2 a,LabelsView b,AdminView c,Selection d
				where
				a.serviceid = b.labelid and
				b.labeltype='service' and
				a.personid=c.personid and
				a.personid*=d.personId and
				d.selectionId=@selectionId
				order by labelnl,language,lastname,firstname
			end
		</sql>
	</proc>
	<proc name="subjTot" db="occup" drop="1">
		<sql>
			create proc subjTot(@selectionId varchar(255))
			as
			declare @s_f1 int
			declare @s_f2 int
			declare @s_f3 int
			select @s_f1=count(distinct personId)
			from Selection
			where (flag1|flag2|flag3|flag6)=1
			and selectionId=@selectionId
			select @s_f2=count
			(distinct personId)
			from Selection
			where flag4=1 and
			personId not in(
			select personId
			from Selection
			where (flag1|flag2|flag3|flag6)=1
			)
			and selectionId=@selectionId
			select @s_f3=count(distinct personId)
			from Selection
			where flag5=1 and
			personId not in(
			select personId
			from Selection
			where (flag1|flag2|flag3|flag6|flag4)=1
			)
			and selectionId=@selectionId
			select @s_f1 s_f1,@s_f2 s_f2,@s_f3 s_f3
		</sql>
	</proc>
	<proc name="subjectRisksUnit" db="occup" drop="1">
		<sql>
			create proc subjectRisksUnit(@serviceId int)
			as
			select '9' test,personid into #tmptbl2 from AdminView where lastname like 'LAT%'
			delete Selection
			insert into Selection (selectionId,flag1,flag2,flag3,flag4,flag5,flag6,flag7,flag8,linkId) select test,1,0,0,0,0,0,0,0,personid from #tmptbl2
			select
			sum((flag1 | flag2 | flag3 | flag5) &amp;1) as ow_flag1,
			sum(flag4 &amp;~ ((flag1 | flag2 | flag3 | flag5) &amp;1)) as ow_flag2,
			sum(flag5 &amp;~ ((flag1 | flag2 | flag3 | flag5 | flag4) &amp;1)) as ow_flag3,
			serviceId
			from Selection
			group by serviceId
		</sql>
	</proc>
	<proc name="subjectsUnitQuery" db="occup" drop="1">
		<sql>
			create proc subjectsUnitQuery (@selectionId varchar(255))
			as
			select
			convert(bit,sum((flag6|flag1|flag2|flag3)&amp;1))&amp;1 s_f1,
			convert(bit,sum(flag4 &amp;~((flag6|flag1|flag2|flag3)&amp;1)))&amp;1 s_f2,
			convert(bit,sum(flag5 &amp;~((flag6|flag1|flag2|flag3|flag4)&amp;1)))&amp;1 s_f3,
			personId,serviceId,labelnl into #ruqtmp
			from Selection a, LabelsView b
			where
			selectionId=@selectionId and
			b.labeltype='service' and
			a.serviceId=b.labelid and
			(flag6|flag1|flag2|flag3|flag4|flag5)&amp;1=1
			group by personId,serviceId,labelnl
			select sum(s_f1) ow_f1,sum(s_f2) ow_f2,sum(s_f3) ow_f3,serviceId,labelnl
			from #ruqtmp
			group by serviceId,labelnl
		</sql>
	</proc>
	<proc name="vaccinationCard" db="occup" drop="1">
		<sql>
			create proc vaccinationCard(@personId int)
			as
			select c.messageKey
			from RiskProfiles a, RiskProfileItems b, Examinations c
			where
			a.dateEnd is null and
			b.profileId = a.profileId and
			b.status&gt;0 and
			b.itemType='be.dpms.medwan.common.model.IConstants.PERSONAL_EXAMINATION' and
			b.itemId=c.id and
			c.transactionType like 'be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_VACCINATION%' and
			personId=@personId
			union
			select c.messageKey
			from RiskProfiles a, RiskProfileItems b, Examinations c, RiskExaminations d
			where
			a.dateEnd is null and
			b.profileId = a.profileId and
			b.status&gt;0 and
			b.itemType='be.dpms.medwan.common.model.IConstants.PERSONAL_RISK' and
			b.itemId=d.riskId and
			d.examinationId=c.id and
			c.transactionType like 'be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_VACCINATION%' and
			personId=@personId
			union
			select c.messageKey
			from RiskProfiles a, RiskProfileContexts b, Examinations c, RiskExaminations d, FunctionCategoryRisks e
			where
			a.dateEnd is null and
			b.profileId = a.profileId and
			b.itemType='be.dpms.medwan.common.model.IConstants.FUNCTION_CATEGORY' and
			b.itemId=e.functionCategoryId and
			d.riskId=e.riskId and
			d.examinationId=c.id and
			c.transactionType like 'be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_VACCINATION%' and
			e.riskId not in (
				select itemId
				from RiskProfiles a, RiskProfileItems b
				where
				a.dateEnd is null and
				b.profileId=a.profileId and
				b.status&lt;0 and
				b.itemType='be.dpms.medwan.common.model.IConstants.PERSONAL_RISK' and
				a.personId=@personId
			) and
			personId=@personId
			union
			select c.messageKey
			from RiskProfiles a, RiskProfileContexts b, Examinations c, RiskExaminations d, WorkplaceRisks e
			where
			a.dateEnd is null and
			b.profileId = a.profileId and
			b.itemType='be.dpms.medwan.common.model.IConstants.WORKPLACE' and
			b.itemId=e.workplaceId and
			d.riskId=e.riskId and
			d.examinationId=c.id and
			c.transactionType like 'be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_VACCINATION%' and
			e.riskId not in (
				select itemId
				from RiskProfiles a, RiskProfileItems b
				where
				a.dateEnd is null and
				b.profileId=a.profileId and
				b.status&lt;0 and
				b.itemType='be.dpms.medwan.common.model.IConstants.PERSONAL_RISK' and
				a.personId=@personId
			) and
			personId=@personId
			union
			select c.messageKey
			from RiskProfiles a, RiskProfileContexts b, Examinations c, FunctionGroupExaminations d
			where
			a.dateEnd is null and
			b.profileId = a.profileId and
			b.itemType='be.dpms.medwan.common.model.IConstants.FUNCTION_GROUP' and
			b.itemId=d.functionGroupId and
			d.examinationId=c.id and
			c.transactionType like 'be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_VACCINATION%' and
			c.id not in (
				select itemId
				from RiskProfiles a, RiskProfileItems b
				where
				a.dateEnd is null and
				b.profileId=a.profileId and
				b.status&lt;0 and
				b.itemType='be.dpms.medwan.common.model.IConstants.PERSONAL_EXAMINATION' and
				a.personId=@personId
			) and
			personId=@personId
		</sql>
	</proc>
	<exec db="occup" id="1">
		<sql db="Microsoft SQL Server">
            delete from OW_Config where ow_key='timeStamp';
            insert into OW_Config(ow_key,ow_value) values('timeStamp','getdate()');
        </sql>
        <sql db="Adaptive Server Enterprise">
            delete from OW_Config where ow_key='timeStamp';
            insert into OW_Config(ow_key,ow_value) values('timeStamp','getdate()');
        </sql>
        <sql db="Cache">
            delete from OW_Config where ow_key='timeStamp';
            insert into OW_Config(ow_key,ow_value) values('timeStamp','getdate()');
        </sql>
	</exec>
	<exec db="admin" id="2">
		<sql>
            update UserParameters set active=1 where active is null;
            update AccessRights set active=1 where active is null;
            update Groups set active=1 where active is null;
            update UserProfilePermissions set active=1 where active is null;
        </sql>
	</exec>
	<exec db="occup" id="3">
		<sql>
            update ContactTypes set active=1,NL=messageKey,FR=messageKey where active is null;
            update RiskCodes set active=1 where active is null;
            update FunctionCategories set active=1 where active is null;
            update FunctionGroups set active=1 where active is null;
            update Workplaces set active=1 where active is null;
            update RiskExaminations set active=1 where active is null;
            update FunctionGroupExaminations set active=1 where active is null;
            update WorkplaceRisks set active=1 where active is null;
            update Groups set active=1 where active is null;
            update ContactTypes set active=1,NL=messageKey,FR=messageKey,updatetime=getdate() where updatetime is null;
            update RiskCodes set active=1,updatetime=getdate() where updatetime is null;
            update FunctionCategories set active=1,updatetime=getdate() where updatetime is null;
            update FunctionGroups set active=1,updatetime=getdate() where updatetime is null;
            update Workplaces set active=1,updatetime=getdate() where updatetime is null;
            update RiskExaminations set active=1,updatetime=getdate() where updatetime is null;
            update FunctionGroupExaminations set active=1,updatetime=getdate() where updatetime is null;
            update WorkplaceRisks set active=1,updatetime=getdate() where updatetime is null;
            update Examinations set updatetime=getdate() where updatetime is null;
            update Groups set updatetime=getdate() where updatetime is null
        </sql>
	</exec>
    <exec db="occup" id="4">
        <sql db="Microsoft SQL Server">
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value not like '[0-9]%[-/][0-9]%[-/][1-2][0-9][0-9][0-9]';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value like '%an%';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value like '%O%';
            update Items set value=substring(value,1,10) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and len(value)>10;
            update Items set value=convert(char(10),convert(datetime,value,103),103) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and (isDate(substring(value,4,2)+'/'+substring(value,1,2)+'/'+substring(value,7,4))=1);
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value is null;
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and (isDate(substring(value,4,2)+'/'+substring(value,1,2)+'/'+substring(value,7,4))=0 and isDate('05/31/2004')=1);
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value not like '[0-9]%[-/][0-9]%[-/][1-2][0-9][0-9][0-9]';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value like '%an%';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value like '%O%';
            update Items set value=substring(value,1,10) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and len(value)>10;
            update Items set value=convert(char(10),convert(datetime,value,103),103) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value is null;
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and (isDate(substring(value,4,2)+'/'+substring(value,1,2)+'/'+substring(value,7,4))=0 and isDate('05/31/2004')=1);
        </sql>
        <sql db="Adaptive Server Enterprise">
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value not like '[0-9]%[-/][0-9]%[-/][1-2][0-9][0-9][0-9]';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value like '%an%';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value like '%O%';
            update Items set value=substring(value,1,10) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and char_length(value)>10;
            update Items set value=convert(char(10),convert(datetime,value,103),103) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value is null;
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value not like '[0-9]%[-/][0-9]%[-/][1-2][0-9][0-9][0-9]';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value like '%an%';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value like '%O%';
            update Items set value=substring(value,1,10) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and char_length(value)>10;
            update Items set value=convert(char(10),convert(datetime,value,103),103) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value is null;
        </sql>
        <sql db="Cache">
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value not like '[0-9]%[-/][0-9]%[-/][1-2][0-9][0-9][0-9]';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value like '%an%';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value like '%O%';
            update Items set value=substring(value,1,10) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and char_length(value)>10;
            update Items set value=convert(char(10),convert(datetime,value,103),103) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value is null;
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value not like '[0-9]%[-/][0-9]%[-/][1-2][0-9][0-9][0-9]';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value like '%an%';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value like '%O%';
            update Items set value=substring(value,1,10) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and char_length(value)>10;
            update Items set value=convert(char(10),convert(datetime,value,103),103) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value is null;
        </sql>
    </exec>
    <exec db="occup" id="5">
        <sql db="Microsoft SQL Server">
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_MER_NEW_CONVOCATION_DATE' and value not like '[0-9]%[-/][0-9]%[-/][1-2][0-9][0-9][0-9]';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_MER_NEW_CONVOCATION_DATE' and value like '%an%';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_MER_NEW_CONVOCATION_DATE' and value like '%O%';
            update Items set value=convert(char(10),convert(datetime,value,103),103) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_MER_NEW_CONVOCATION_DATE';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_MER_NEW_CONVOCATION_DATE' and value is null;
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_MER_NEW_CONVOCATION_DATE' and (isDate(substring(value,4,2)+'/'+substring(value,1,2)+'/'+substring(value,7,4))=0 and isDate('05/31/2004')=1);
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_DLC_VALIDITY' and value not like '[0-9]%[-/][0-9]%[-/][1-2][0-9][0-9][0-9]';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_DLC_VALIDITY' and value like '%an%';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_DLC_VALIDITY' and value like '%O%';
            update Items set value=convert(char(10),convert(datetime,value,103),103) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_DLC_VALIDITY';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_DLC_VALIDITY' and value is null;
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_DLC_VALIDITY' and (isDate(substring(value,4,2)+'/'+substring(value,1,2)+'/'+substring(value,7,4))=0 and isDate('05/31/2004')=1);
        </sql>
        <sql db="Adaptive Server Enterprise">
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value not like '[0-9]%[-/][0-9]%[-/][1-2][0-9][0-9][0-9]';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value like '%an%';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value like '%O%';
            update Items set value=substring(value,1,10) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and char_length(value)>10;
            update Items set value=convert(char(10),convert(datetime,value,103),103) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value is null;
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value not like '[0-9]%[-/][0-9]%[-/][1-2][0-9][0-9][0-9]';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value like '%an%';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value like '%O%';
            update Items set value=substring(value,1,10) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and char_length(value)>10;
            update Items set value=convert(char(10),convert(datetime,value,103),103) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value is null;
        </sql>
        <sql db="Cache">
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value not like '[0-9]%[-/][0-9]%[-/][1-2][0-9][0-9][0-9]';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value like '%an%';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value like '%O%';
            update Items set value=substring(value,1,10) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and char_length(value)>10;
            update Items set value=convert(char(10),convert(datetime,value,103),103) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_NEXT_DATE' and value is null;
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value not like '[0-9]%[-/][0-9]%[-/][1-2][0-9][0-9][0-9]';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value like '%an%';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value like '%O%';
            update Items set value=substring(value,1,10) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and char_length(value)>10;
            update Items set value=convert(char(10),convert(datetime,value,103),103) where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE';
            delete Items where type='be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_VACCINATION_DATE' and value is null;
        </sql>
    </exec>
    <exec db="occup" id="6">
        <sql>
            delete TransactionItems where transactionTypeId='be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_GENERAL_CLINICAL_EXAMINATION' and itemTypeId like 'be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CE_HEELKUNDE%';
            insert TransactionItems(transactionTypeId,itemTypeId) values('be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_GENERAL_CLINICAL_EXAMINATION','be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CE_HEELKUNDE');
            insert TransactionItems(transactionTypeId,itemTypeId) values('be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_GENERAL_CLINICAL_EXAMINATION','be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CE_HEELKUNDE1');
            insert TransactionItems(transactionTypeId,itemTypeId) values('be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_GENERAL_CLINICAL_EXAMINATION','be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CE_HEELKUNDE2');
            insert TransactionItems(transactionTypeId,itemTypeId) values('be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_GENERAL_CLINICAL_EXAMINATION','be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CE_HEELKUNDE3');
            insert TransactionItems(transactionTypeId,itemTypeId) values('be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_GENERAL_CLINICAL_EXAMINATION','be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CE_HEELKUNDE4');
            insert TransactionItems(transactionTypeId,itemTypeId) values('be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_GENERAL_CLINICAL_EXAMINATION','be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CE_HEELKUNDE5');
            delete TransactionItems where transactionTypeId='be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_GENERAL_CLINICAL_EXAMINATION' and itemTypeId like 'be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CE_FAMILIAAL_COMMENT%';
            insert TransactionItems(transactionTypeId,itemTypeId) values('be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_GENERAL_CLINICAL_EXAMINATION','be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CE_FAMILIAAL_COMMENT');
            insert TransactionItems(transactionTypeId,itemTypeId) values('be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_GENERAL_CLINICAL_EXAMINATION','be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CE_FAMILIAAL_COMMENT1');
            insert TransactionItems(transactionTypeId,itemTypeId) values('be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_GENERAL_CLINICAL_EXAMINATION','be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CE_FAMILIAAL_COMMENT2');
            insert TransactionItems(transactionTypeId,itemTypeId) values('be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_GENERAL_CLINICAL_EXAMINATION','be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CE_FAMILIAAL_COMMENT3');
            insert TransactionItems(transactionTypeId,itemTypeId) values('be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_GENERAL_CLINICAL_EXAMINATION','be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CE_FAMILIAAL_COMMENT4');
            insert TransactionItems(transactionTypeId,itemTypeId) values('be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_GENERAL_CLINICAL_EXAMINATION','be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CE_FAMILIAAL_COMMENT5');
            insert TransactionItems(transactionTypeId,itemTypeId) values('be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_GENERAL_CLINICAL_EXAMINATION','be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CE_FAMILIAAL_COMMENT6');
            insert TransactionItems(transactionTypeId,itemTypeId) values('be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_GENERAL_CLINICAL_EXAMINATION','be.mxs.common.model.vo.healthrecord.IConstants.ITEM_TYPE_CE_FAMILIAAL_COMMENT7');
        </sql>
    </exec>
    <exec db="occup" id="7">
        <sql>
            update Examinations set priority=id;
            delete Examinations where id=410;
            insert into Examinations(id,transactionType,messageKey,data,priority,NL,FR) values(410,'be.mxs.common.model.vo.healthrecord.IConstants.TRANSACTION_TYPE_OTHER_REQUESTS','medwan.healthrecord.other-requests',null,410,'Andere onderzoeken','Autres examens');
        </sql>
    </exec>
</model>
